PopupManager.setupPopup();const loaderTips=["Tip: Set the opacity of an element that you don't want in your spritesheet to 0%.","Tip: Use the Custom Assets feature to customize the patterns and colors in your spritesheet.",'Tip: Check the "Show Minimal Options" checkbox to only show colors that are used by the settings you have chosen.',"Tip: Use the Download Project feature to download a portable .RS project file that is much smaller than a PNG which can be put back into the SpriteMaker if you need to make any changes.",'Tip: If elements are missing from the canvas, click the "Redraw Canvas" button.',"Tip: Did you accidentally close the SpriteMaker? Use the Load Previous Project feature to load a project file that was saved before you closed the tab.","Tip: Use Pallet Order to make your own custom pallets! You should edit the JSON in an external editor though.",],View={OpenedViews:[],TopmostView:"",Open:e=>(console.log("Open View",e),!!View.ViewData[e]&&!View.OpenedViews.includes(e)&&(View.IsOpen=!0,View.OpenedViews.unshift(e),View.TopmostView=View.OpenedViews[0],!0)),Close:e=>(console.log("Close View",e),!!(View.ViewData[e]&&View.OpenedViews.includes(e))&&(View.IsOpen=!1,View.OpenedViews=View.OpenedViews.filter(r=>r!==e),View.TopmostView=View.OpenedViews[0],!0)),ViewData:{LoaderMenu:{IsOpen:!1},MainMenu:{IsOpen:!1},MainEditor:{IsOpen:!1},ObstaclePreview:{IsOpen:!1}}};document.querySelector("#loaderTip").innerHTML=loaderTips[Math.floor(Math.random()*loaderTips.length)];var currentDrawTimeoutAlt,currentDrawTimeout,canvas=document.querySelector("#main");const context=canvas.getContext("2d");jscolor.presets.default.backgroundColor="rgb(61, 61, 67, 1)",jscolor.presets.default.borderColor="rgb(95, 95, 110, 1)",LevelEncryptor.setup();var local=RegExp("^(file|local|192.|172.|127.|10.)");function checkForUpdates(){fetch("version.json").catch(()=>{}).then(e=>e.json()).catch(()=>{window.hidePage(),PopupManager.showMessage('Local version JSON file is either missing or unable to be found. SpriteMaker cannot start.<br><br>Click the button below to be shown a tutorial on how to run SpriteMaker on a local machine.<br><button onclick="window.showLocalMachineTutorial()">Tutorial</button>',"Error",["Leave>closeTab()~default"],!1)}).then(e=>{window.spritemakerVersion=e.current,fetch("https://sqdldev.github.io/rolling-sky/spritesheet-creator/version.json").catch(()=>{}).then(e=>e.json()).catch(()=>{loadAll()}).then(e=>{try{window.spritemakerLatestVersion=e.current,isLocallyHosted&&versionGreater(window.spritemakerLatestVersion,window.spritemakerVersion)&&PopupManager.showMessage("You have SpriteMaker version "+window.spritemakerVersion+".<br><br>The latest version of SpriteMaker is version "+window.spritemakerLatestVersion+'.<br><br>Please update your local version of SpriteMaker <a href="https://github.com/sqdldev/sqdldev.github.io/tree/main/rolling-sky/spritesheet-creator" target="_blank">here</a>.',"Your local copy of SpriteMaker is outdated."),loadAll()}catch{}}).catch(()=>{})}).catch(()=>{})}function versionGreater(e,r){let o=e.split("."),t=r.split(".");for(let a=0;a<o.length;a++){let l=parseInt(o[a]),n=parseInt(t[a]);if(l<n)return!1;if(l>n)return!0}return o.length<t.length}window.isLocallyHosted=local.test(window.location.host)||""==window.location.host,checkForUpdates();const processingDots=document.querySelector("#processingDots");var SpriteMaker={Data:{tintCanvas:document.querySelector("#tintCanvas"),tintContext:this.tintCanvas.getContext("2d"),tintedImageCount:0,TintImage(e,r,o,t){if(SpriteMaker.Data.tintedImageCount++,SpriteMaker.Data.tintedImageCount>500){console.log("RENDERING LIMIT REACHED!!!");return}SpriteMaker.Data.alreadyDrawNames.push(o);let a=SpriteMaker.Data.tintCanvas,l=SpriteMaker.Data.tintContext;l.clearRect(0,0,512,512),console.log("recoloring",o);var n=vcache.Get(o+"."+r);if(void 0!=n){console.log("get from cache",o);var i=new Image;l.putImageData(n,0,0);var p=a.toDataURL();return i.src=p,i}if("#ffffff"==r.toLowerCase())return e;l.drawImage(e,0,0);let d=l.getImageData(0,0,a.width,a.height),c=d.data,m=c.length;var s,u,g=255,y=((s=r).length>6&&(s=s.slice(0,7)),(u=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s))?{r:parseInt(u[1],16),g:parseInt(u[2],16),b:parseInt(u[3],16)}:null);if(9==r.length&&(g=parseInt(r.slice(-2),16)),255==g&&1==t)for(let h=0;h<m;h+=4)c[h+3]>5&&(c[h]*=y.r/255,c[h+1]*=y.g/255,c[h+2]*=y.b/255);else for(let f=0;f<m;f+=4)c[f+3]>5&&(c[f]*=y.r/255,c[f+1]*=y.g/255,c[f+2]*=y.b/255,c[f+3]*=g*t/255);var i=new Image;l.putImageData(d,0,0);var p=a.toDataURL();return i.src=p,vcache.Add(o+"."+r,d),i},isDrawing:!1,alreadyDraw:[],alreadyDrawNames:[],to:void 0,Draw(e,r,o=!1){function t(r,o,t,a=1,l=[0,0]){if(!o&&!t){window.f.push([SpriteMaker.Data.TintImage(ImageAssets[r],"#ffffff",r,a),l]);return}window.visibleOptions.push(o+"."+t);var n=e.GetProperty(o,t);"00"!=n.slice(7,9)&&window.f.push([SpriteMaker.Data.TintImage(ImageAssets[r],n,r,a),[0,0]])}function a(e,r,o,t=1){window.f.push([SpriteMaker.Data.TintImage(ImageAssets[e],r,e,t),o])}function l(o,t){window.visibleOptions.push(o+"."+t);var a=context.fillStyle;context.fillStyle=e.GetProperty(o,t),console.log("fill bg",context.fillStyle),context.fillRect(0,0,r.width,r.height),context.fillStyle=a}function n(e,r){window.wd[e]=r}function i(e){wd[e]&&window.wd[e]()}SpriteMaker.Data.isDrawing||context.clearRect(0,0,r.width,r.height),SpriteMaker.Data.isDrawing=!0,o&&(context.clearRect(0,0,r.width,r.height),clearTimeout(SpriteMaker.Data.to),SpriteMaker.Data.alreadyDraw=[],SpriteMaker.Data.alreadyDrawNames=[]),context.globalAlpha=1,window.f=[],window.visibleOptions=[],window.wd={},processingDots.classList.add("active");var p=e.Type;switch(p){case 0:t("enemy_laserCenterBackground","Laser_Center","Laser_Center"),t("enemy_laserCenter","Laser_Center","Laser_Color"),t("enemy_laserCenterBorder","Laser_Center","Laser_Outline");var d=e.GetValue("Laser_Beam","Mode");switch(d){case 0:t("enemy_laserBeamBackground","Laser_Beam","Laser_Center_1"),t("enemy_laserBeam","Laser_Beam","Laser_Color_1");break;case 1:t("enemy_laserBeam1Background","Laser_Beam","Laser_Center_1"),t("enemy_laserBeam1","Laser_Beam","Laser_Color_1"),t("enemy_laserBeam2Background","Laser_Beam","Laser_Center_1"),t("enemy_laserBeam2","Laser_Beam","Laser_Color_1"),t("enemy_laserBeam3Background","Laser_Beam","Laser_Center_2"),t("enemy_laserBeam3","Laser_Beam","Laser_Color_2"),t("enemy_laserBeam4Background","Laser_Beam","Laser_Center_2"),t("enemy_laserBeam4","Laser_Beam","Laser_Color_2");break;case 2:t("enemy_laserBeam1Background","Laser_Beam","Laser_Center_1"),t("enemy_laserBeam1","Laser_Beam","Laser_Color_1"),t("enemy_laserBeam2Background","Laser_Beam","Laser_Center_2"),t("enemy_laserBeam2","Laser_Beam","Laser_Color_2"),t("enemy_laserBeam3Background","Laser_Beam","Laser_Center_3"),t("enemy_laserBeam3","Laser_Beam","Laser_Color_3"),t("enemy_laserBeam4Background","Laser_Beam","Laser_Center_4"),t("enemy_laserBeam4","Laser_Beam","Laser_Color_4")}var c=e.GetValue("Main_Stripe","Type");switch(t("enemy_stripeBackgroundLeft","Main_Stripe","Background"),c){case 0:break;case 1:t("enemy_stripeDefaultColorLeft","Main_Stripe","Color"),t("enemy_stripeDefaultShadowLeft","Main_Stripe","Shadow");break;case 2:t("enemy_stripeSplitColorLeft","Main_Stripe","Color"),t("enemy_stripeSplitShadowLeft","Main_Stripe","Shadow");break;case 3:t("enemy_stripeWideColorLeft","Main_Stripe","Color"),t("enemy_stripeWideShadowLeft","Main_Stripe","Shadow");break;case 4:t("enemy_stripeIgniteColorLeft","Main_Stripe","Color")}var m=e.GetValue("Alternate_Stripe","Type"),s=1==e.GetValue("Alternate_Stripe","Always_On_Top");function u(){switch(t("enemy_stripeBackgroundRight","Alternate_Stripe","Background"),m){case 0:break;case 1:t("enemy_stripeDefaultColorRight","Alternate_Stripe","Color"),t("enemy_stripeDefaultShadowRight","Alternate_Stripe","Shadow");break;case 2:t("enemy_stripeSplitColorRight","Alternate_Stripe","Color"),t("enemy_stripeSplitShadowRight","Alternate_Stripe","Shadow");break;case 3:t("enemy_stripeWideColorRight","Alternate_Stripe","Color"),t("enemy_stripeWideShadowRight","Alternate_Stripe","Shadow");break;case 4:t("enemy_stripeRight1-1","Alternate_Stripe","Color_1"),t("enemy_stripeRight1-2","Alternate_Stripe","Color_2"),t("enemy_stripeRight1-3","Alternate_Stripe","Color_3"),t("enemy_stripeRight1-4","Alternate_Stripe","Color_4");break;case 5:t("enemy_stripeRight2-1","Alternate_Stripe","Color_1"),t("enemy_stripeRight2-2","Alternate_Stripe","Color_2"),t("enemy_stripeRight2-3","Alternate_Stripe","Color_3"),t("enemy_stripeRight2-3-1","Alternate_Stripe","Color_4");break;case 6:t("enemy_stripeBackgroundRight","Alternate_Stripe","Color_4"),t("enemy_stripeRight3","Alternate_Stripe","Color_1")}}s?n("Alternate_Stripes",u):u();var g=e.GetValue("Top_Right","Type"),y=!1;switch(g){case 0:t("enemy_topRightBackgroundWide","Top_Right","Background"),t("enemy_topRightStarColor_l","Top_Right","Star_Inactive_Color"),t("enemy_topRightStarColor_r","Top_Right","Star_Active_Color"),t("enemy_topRightStarShadow_l","Top_Right","Star_Inactive_Shadow_Color"),t("enemy_topRightStarShadow_r","Top_Right","Star_Active_Shadow_Color");break;case 1:1==e.GetValue("Top_Right","Background_Type")?t("enemy_topRightBackgroundPallet","Top_Right","Background"):t("enemy_topRightBackground","Top_Right","Background");var h=e.GetProperty("Top_Right","Pallet_Order");if(console.log(h),window.visibleOptions.push("Top_Right.Pallet_Order"),h)try{var f=JSON.parse(h);function _(){f.elements.forEach(e=>{try{var r=[512,0];switch(e.position){case 1:r=[256,0];break;case 2:r=[320,0];break;case 3:r=[384,0];break;case 4:r=[448,0];break;case 5:r=[256,64];break;case 6:r=[320,64];break;case 7:r=[384,64];break;case 8:r=[448,64];break;case 9:r=[256,128];break;case 10:r=[320,128];break;case 11:r=[384,128];break;case 12:r=[448,128]}var o=e.colors;switch(e.type){case 0:a("enemy_topRightPallet0",o[0],r);break;case 9:a("enemy_topRightPallet0-1",o[0],r);break;case 10:a("enemy_topRightPallet3-1",o[0],r),a("enemy_topRightPallet3-1-1",o[0],r);break;case 11:a("enemy_topRightPallet0-1-1",o[0],r),a("enemy_topRightPallet0-1-2",o[1],r);break;case 12:a("enemy_topRightPallet0-1-1-1",o[0],r),a("enemy_topRightPallet0-1-2-1",o[1],r);break;case 8:a("enemy_topRightPallet2-1",o[0],r),a("enemy_topRightPallet2-2",o[1],r),a("enemy_topRightPallet2-3",o[2],r),a("enemy_topRightPallet2-4",o[0],r),a("enemy_topRightPallet2-5",o[1],r),a("enemy_topRightPallet2-6",o[2],r);break;case 1:a("enemy_topRightPallet1-1",o[0],r),a("enemy_topRightPallet1-2",o[1],r),a("enemy_topRightPallet1-3",o[2],r),a("enemy_topRightPallet1-4",o[3],r);break;case 2:a("enemy_topRightPallet2-1",o[0],r),a("enemy_topRightPallet2-2",o[1],r),a("enemy_topRightPallet2-3",o[2],r),a("enemy_topRightPallet2-4",o[3],r),a("enemy_topRightPallet2-5",o[4],r),a("enemy_topRightPallet2-6",o[5],r);break;case 3:a("enemy_topRightPallet3-1",o[0],r),a("enemy_topRightPallet3-2",o[1],r),a("enemy_topRightPallet3-3",o[1],r),a("enemy_topRightPallet3-4",o[2],r),a("enemy_topRightPallet3-5",o[3],r),a("enemy_topRightPallet3-6",o[4],r);break;case 4:a("enemy_topRightPallet3-1",o[0],r),a("enemy_topRightPallet3-2",o[1],r),a("enemy_topRightPallet3-3",o[2],r),a("enemy_topRightPallet3-4",o[3],r),a("enemy_topRightPallet3-5",o[4],r),a("enemy_topRightPallet3-6",o[5],r);break;case 5:a("enemy_topRightPallet4-1",o[0],r),a("enemy_topRightPallet4-2",o[0],r),a("enemy_topRightPallet4-3",o[1],r),a("enemy_topRightPallet4-4",o[2],r),a("enemy_topRightPallet4-5",o[3],r),a("enemy_topRightPallet4-6",o[4],r),a("enemy_topRightPallet4-7",o[5],r),a("enemy_topRightPallet4-8",o[6],r);break;case 6:a("enemy_topRightPallet4-1",o[0],r),a("enemy_topRightPallet4-2",o[1],r),a("enemy_topRightPallet4-3",o[2],r),a("enemy_topRightPallet4-4",o[3],r),a("enemy_topRightPallet4-5",o[4],r),a("enemy_topRightPallet4-6",o[5],r),a("enemy_topRightPallet4-7",o[6],r),a("enemy_topRightPallet4-8",o[6],r);break;case 7:a("enemy_topRightPallet4-1",o[0],r),a("enemy_topRightPallet4-2",o[1],r),a("enemy_topRightPallet4-3",o[2],r),a("enemy_topRightPallet4-4",o[3],r),a("enemy_topRightPallet4-5",o[4],r),a("enemy_topRightPallet4-6",o[5],r),a("enemy_topRightPallet4-7",o[6],r),a("enemy_topRightPallet4-8",o[7],r)}}catch{}})}console.log(f),(y=f.alwaysOnTop||!1)?n("Top_Right_Pallet_Order",_):_()}catch{}var $=e.GetValue("Top_Right","Gradient");switch($){case 0:break;case 1:t("enemy_topRightGradient","Top_Right","Pallet_Gradient");break;case 2:t("enemy_topRightGradient","Top_Right","Pallet_Gradient"),t("enemy_topRightGradient2","Top_Right","Pallet_Gradient_2");break;case 3:t("enemy_topRightGradient","Top_Right","Pallet_Gradient"),t("enemy_topRightGradientStripes","Top_Right","Pallet_Gradient_Stripes")}var v=e.GetValue("Top_Right","Colored_Boxes");switch(0!=v&&t("enemy_topRightColoredBoxBackground","Top_Right","Colored_Box_Background"),v){case 0:break;case 1:t("enemy_topRightColoredBox1","Top_Right","Colored_Box_1_Color"),t("enemy_topRightColoredBox2","Top_Right","Colored_Box_2_Color"),t("enemy_topRightColoredBox3","Top_Right","Colored_Box_3_Color"),t("enemy_topRightColoredBox4","Top_Right","Colored_Box_4_Color"),t("enemy_topRightColoredBox5","Top_Right","Colored_Box_5_Color"),t("enemy_topRightColoredBox6","Top_Right","Colored_Box_6_Color"),t("enemy_topRightColoredBox7","Top_Right","Colored_Box_7_Color"),t("enemy_topRightColoredBox8","Top_Right","Colored_Box_8_Color")}1==e.GetValue("Top_Right","Mini_Jump")&&(t("enemy_topRightSmallJump1","Top_Right","Inactive_Mini_Jump_Top"),t("enemy_topRightSmallJump2","Top_Right","Inactive_Mini_Jump_Side"),t("enemy_topRightSmallJump3","Top_Right","Active_Mini_Jump_Top"),t("enemy_topRightSmallJump4","Top_Right","Active_Mini_Jump_Side"));var T=e.GetValue("Top_Right","Rearranging_Cubes");switch(T){case 0:break;case 1:t("enemy_topRightCubeBackgroundTop","Top_Right","Rearranging_Cube_Top_Background_Color"),t("enemy_topRightCubeBackgroundBottom","Top_Right","Rearranging_Cube_Bottom_Background_Color"),t("enemy_topRightCubePatternTop","Top_Right","Rearranging_Cube_Top_Pattern_Color"),t("enemy_topRightCubePatternBottom","Top_Right","Rearranging_Cube_Top_Pattern_Color"),t("enemy_topRightCubeBorder","Top_Right","Rearranging_Cube_Border_Color");break;case 2:n("sunset_cubes",()=>{t("enemy_topRightSunsetCubeBackground"),t("enemy_topRightSunsetCubePattern","Top_Right","Sunset_Cubes_Pattern_Color")})}1==e.GetValue("Top_Right","Spinning_Rhombus_Face")&&(t("enemy_topRightRhombusFaceBackground","Top_Right","Spinning_Rhombus_Face_Background"),t("enemy_topRightRhombusFaceOverlay","Top_Right","Spinning_Rhombus_Face_Overlay"));var b=e.GetValue("Top_Right","Flip_Tile");switch(0!=b&&(t("enemy_topRightFlipTileSide","Top_Right","Flip_Tile_Side_Color"),t("enemy_topRightFlipTile-0-1","Top_Right","Inactive_Flip_Tile_Background"),t("enemy_topRightFlipTile-0-2","Top_Right","Active_Flip_Tile_Background")),b){case 0:break;case 1:t("enemy_topRightFlipTile-1-1","Top_Right","Inactive_Flip_Tile_Color_1"),t("enemy_topRightFlipTile-1-2","Top_Right","Active_Flip_Tile_Color_1");break;case 2:t("enemy_topRightFlipTile-2-1","Top_Right","Inactive_Flip_Tile_Color_1"),t("enemy_topRightFlipTile-2-2","Top_Right","Active_Flip_Tile_Color_1");break;case 3:t("enemy_topRightFlipTile-3-1-1","Top_Right","Inactive_Flip_Tile_Color_1"),t("enemy_topRightFlipTile-3-1-2","Top_Right","Inactive_Flip_Tile_Color_2"),t("enemy_topRightFlipTile-3-2-1","Top_Right","Active_Flip_Tile_Color_1"),t("enemy_topRightFlipTile-3-2-2","Top_Right","Active_Flip_Tile_Color_2");break;case 4:t("enemy_topRightFlipTile-4-1-1","Top_Right","Inactive_Flip_Tile_Color_1"),t("enemy_topRightFlipTile-4-1-2","Top_Right","Inactive_Flip_Tile_Color_2"),t("enemy_topRightFlipTile-4-2-1","Top_Right","Active_Flip_Tile_Color_1"),t("enemy_topRightFlipTile-4-2-2","Top_Right","Active_Flip_Tile_Color_2");break;case 5:t("enemy_topRightFlipTile-5-1","Top_Right","Inactive_Flip_Tile_Color_1"),t("enemy_topRightFlipTile-5-2","Top_Right","Active_Flip_Tile_Color_1");break;case 6:t("enemy_topRightFlipTile-6-1","Top_Right","Inactive_Flip_Tile_Color_1"),t("enemy_topRightFlipTile-6-2","Top_Right","Active_Flip_Tile_Color_1");break;case 7:t("enemy_topRightFlipTile-7-1","Top_Right","Inactive_Flip_Tile_Color_1"),t("enemy_topRightFlipTile-7-2","Top_Right","Active_Flip_Tile_Color_1");break;case 8:t("enemy_topRightFlipTile-8-1-1","Top_Right","Inactive_Flip_Tile_Color_1"),t("enemy_topRightFlipTile-8-1-2","Top_Right","Inactive_Flip_Tile_Color_2"),t("enemy_topRightFlipTile-8-2-1","Top_Right","Active_Flip_Tile_Color_1"),t("enemy_topRightFlipTile-8-2-2","Top_Right","Active_Flip_Tile_Color_2");break;case 9:t("enemy_topRightFlipTile-9-1","Top_Right","Inactive_Flip_Tile_Color_1"),t("enemy_topRightFlipTile-9-2","Top_Right","Active_Flip_Tile_Color_1");break;case 10:t("enemy_topRightFlipTile-10-1-1","Top_Right","Inactive_Flip_Tile_Color_1"),t("enemy_topRightFlipTile-10-1-2","Top_Right","Inactive_Flip_Tile_Color_2"),t("enemy_topRightFlipTile-10-2-1","Top_Right","Active_Flip_Tile_Color_1"),t("enemy_topRightFlipTile-10-2-2","Top_Right","Active_Flip_Tile_Color_2")}0!=e.GetValue("Top_Right","Powerups")&&(t("enemy_topRightPowerupsBase"),t("enemy_topRightPowerupsGradient","Top_Right","Powerup_Custom_Gradient"),t("enemy_topRightPowerupsDark","Top_Right","Powerup_Dark_Color"),t("enemy_topRightPowerupsLight","Top_Right","Powerup_Icon_Color"))}i("sunset_cubes"),t("enemy_riserBackground","Riser_Top","Background");var C=e.GetValue("Light_Color_Pallet","Type"),P=e.GetValue("Light_Color_Pallet","Super_Glow_Amount");switch(-1!=C&&(t("enemy_colorVibrantBackground1","Light_Color_Pallet","Color_1_Background"),t("enemy_colorVibrantBackground2","Light_Color_Pallet","Color_2_Background"),t("enemy_colorVibrantBackground2Addition","Light_Color_Pallet","Color_2_Addition"),t("enemy_colorVibrantBackground3","Light_Color_Pallet","Color_3_Background"),t("enemy_colorVibrantBackground4","Light_Color_Pallet","Color_4_Background"),t("enemy_colorVibrantBackground5","Light_Color_Pallet","Color_5_Background"),t("enemy_colorVibrantBackground6","Light_Color_Pallet","Color_6_Background"),t("enemy_colorVibrantHexFill","Light_Color_Pallet","Hexagon_Circle_Center")),C){case 0:t("enemy_colorVibrant1Border1","Light_Color_Pallet","Color_1_Border"),t("enemy_colorVibrant1Border2","Light_Color_Pallet","Color_2_Border"),t("enemy_colorVibrant1Border3","Light_Color_Pallet","Color_3_Border"),t("enemy_colorVibrant1Border4","Light_Color_Pallet","Color_4_Border"),t("enemy_colorVibrant1Border5","Light_Color_Pallet","Color_5_Border"),t("enemy_colorVibrant1Border6","Light_Color_Pallet","Color_6_Border");break;case 2:t("enemy_colorVibrant2Border1Glow","Light_Color_Pallet","Color_1_Border",P),t("enemy_colorVibrant2Border2Glow","Light_Color_Pallet","Color_2_Border",P),t("enemy_colorVibrant2Border3Glow","Light_Color_Pallet","Color_3_Border",P),t("enemy_colorVibrant2Border4Glow","Light_Color_Pallet","Color_4_Border",P),t("enemy_colorVibrant2Border5Glow","Light_Color_Pallet","Color_5_Border",P),t("enemy_colorVibrant2Border6Glow","Light_Color_Pallet","Color_6_Border",P),t("enemy_colorVibrant2Border1","Light_Color_Pallet","Color_1_Border"),t("enemy_colorVibrant2Border2","Light_Color_Pallet","Color_2_Border"),t("enemy_colorVibrant2Border3","Light_Color_Pallet","Color_3_Border"),t("enemy_colorVibrant2Border4","Light_Color_Pallet","Color_4_Border"),t("enemy_colorVibrant2Border5","Light_Color_Pallet","Color_5_Border"),t("enemy_colorVibrant2Border6","Light_Color_Pallet","Color_6_Border");break;case 1:t("enemy_colorVibrant2Border1","Light_Color_Pallet","Color_1_Border"),t("enemy_colorVibrant2Border2","Light_Color_Pallet","Color_2_Border"),t("enemy_colorVibrant2Border3","Light_Color_Pallet","Color_3_Border"),t("enemy_colorVibrant2Border4","Light_Color_Pallet","Color_4_Border"),t("enemy_colorVibrant2Border5","Light_Color_Pallet","Color_5_Border"),t("enemy_colorVibrant2Border6","Light_Color_Pallet","Color_6_Border")}var B=e.GetValue("Dark_Color_Pallet","Type"),k=e.GetValue("Dark_Color_Pallet","Super_Glow_Amount");switch(-1!=C&&(t("enemy_colorDullBackground1","Dark_Color_Pallet","Color_1_Background"),t("enemy_colorDullBackground1Addition","Dark_Color_Pallet","Color_1_Addition"),t("enemy_colorDullBackground2","Dark_Color_Pallet","Color_2_Background"),t("enemy_colorDullBackground3","Dark_Color_Pallet","Color_3_Background"),t("enemy_colorDullBackground4","Dark_Color_Pallet","Color_4_Background"),t("enemy_colorDullBackground5","Dark_Color_Pallet","Color_5_Background"),t("enemy_colorDullBackground6","Dark_Color_Pallet","Color_6_Background"),t("enemy_colorDullBackground6Addition","Dark_Color_Pallet","Color_6_Addition")),B){case 0:t("enemy_colorDull1Border1","Dark_Color_Pallet","Color_1_Border"),t("enemy_colorDull1Border2","Dark_Color_Pallet","Color_2_Border"),t("enemy_colorDull1Border3","Dark_Color_Pallet","Color_3_Border"),t("enemy_colorDull1Border4","Dark_Color_Pallet","Color_4_Border"),t("enemy_colorDull1Border5","Dark_Color_Pallet","Color_5_Border"),t("enemy_colorDull1Border6","Dark_Color_Pallet","Color_6_Border");break;case 2:t("enemy_colorDull2Border1Glow","Dark_Color_Pallet","Color_1_Border",k),t("enemy_colorDull2Border2Glow","Dark_Color_Pallet","Color_2_Border",k),t("enemy_colorDull2Border3Glow","Dark_Color_Pallet","Color_3_Border",k),t("enemy_colorDull2Border4Glow","Dark_Color_Pallet","Color_4_Border",k),t("enemy_colorDull2Border5Glow","Dark_Color_Pallet","Color_5_Border",k),t("enemy_colorDull2Border6Glow","Dark_Color_Pallet","Color_6_Border",k),t("enemy_colorDull2Border1","Dark_Color_Pallet","Color_1_Border"),t("enemy_colorDull2Border2","Dark_Color_Pallet","Color_2_Border"),t("enemy_colorDull2Border3","Dark_Color_Pallet","Color_3_Border"),t("enemy_colorDull2Border4","Dark_Color_Pallet","Color_4_Border"),t("enemy_colorDull2Border5","Dark_Color_Pallet","Color_5_Border"),t("enemy_colorDull2Border6","Dark_Color_Pallet","Color_6_Border");break;case 1:t("enemy_colorDull2Border1","Dark_Color_Pallet","Color_1_Border"),t("enemy_colorDull2Border2","Dark_Color_Pallet","Color_2_Border"),t("enemy_colorDull2Border3","Dark_Color_Pallet","Color_3_Border"),t("enemy_colorDull2Border4","Dark_Color_Pallet","Color_4_Border"),t("enemy_colorDull2Border5","Dark_Color_Pallet","Color_5_Border"),t("enemy_colorDull2Border6","Dark_Color_Pallet","Color_6_Border");break;case 3:n("Color_Dull_Extension",()=>{t("enemy_colorDullBackground7","Dark_Color_Pallet","Color_7_Background"),t("enemy_colorDullBackground8","Dark_Color_Pallet","Color_8_Background"),t("enemy_colorDullBackground9","Dark_Color_Pallet","Color_9_Background"),t("enemy_colorDullBackground10","Dark_Color_Pallet","Color_10_Background"),t("enemy_colorDullBackground11","Dark_Color_Pallet","Color_11_Background"),t("enemy_colorDullBackground12","Dark_Color_Pallet","Color_12_Background"),t("enemy_colorDull1Border1","Dark_Color_Pallet","Color_1_Border"),t("enemy_colorDull1Border2","Dark_Color_Pallet","Color_2_Border"),t("enemy_colorDull1Border3","Dark_Color_Pallet","Color_3_Border"),t("enemy_colorDull1Border4","Dark_Color_Pallet","Color_4_Border"),t("enemy_colorDull1Border5","Dark_Color_Pallet","Color_5_Border"),t("enemy_colorDull1Border6","Dark_Color_Pallet","Color_6_Border"),t("enemy_colorDull1Border7","Dark_Color_Pallet","Color_7_Border"),t("enemy_colorDull1Border8","Dark_Color_Pallet","Color_8_Border"),t("enemy_colorDull1Border9","Dark_Color_Pallet","Color_9_Border"),t("enemy_colorDull1Border10","Dark_Color_Pallet","Color_10_Border"),t("enemy_colorDull1Border11","Dark_Color_Pallet","Color_11_Border"),t("enemy_colorDull1Border12","Dark_Color_Pallet","Color_12_Border")})}var S=e.GetValue("Gradient","Type");switch(S){case 0:t("enemy_gradient1Lighten","Gradient","Lighten_Color"),t("enemy_gradient1Darken","Gradient","Darken_Color"),t("enemy_gradient1StripLighten","Gradient","Strip_Lighten_Color"),t("enemy_gradient1StripDarken","Gradient","Strip_Darken_Color"),t("enemy_gradient1BorderThick","Gradient","Border_Color");break;case 1:t("enemy_gradient2Lighten","Gradient","Lighten_Color"),t("enemy_gradient2Darken","Gradient","Darken_Color"),t("enemy_gradient2StripLighten","Gradient","Strip_Lighten_Color"),t("enemy_gradient2StripDarken","Gradient","Strip_Darken_Color");break;case 2:t("enemy_gradient2Lighten","Gradient","Lighten_Color"),t("enemy_gradient1StripLighten","Gradient","Lighten_Color"),t("enemy_alternateStar","Gradient","Dynamic_Cube_Floater_Color")}var w=e.GetValue("Riser_Top","Type");switch(w){case 0:t("enemy_riser1OuterBorderLeft","Riser_Top","Left_Outer_Border"),t("enemy_riser1InnerColorLeft","Riser_Top","Left_Inner_Color"),t("enemy_riser1InnerBorderLeft","Riser_Top","Left_Inner_Border"),t("enemy_riser1OuterBorderRight","Riser_Top","Right_Outer_Border"),t("enemy_riser1InnerColorRight","Riser_Top","Right_Inner_Color"),t("enemy_riser1InnerBorderRight","Riser_Top","Right_Inner_Border");break;case 1:t("enemy_riser2InnerColorLeft","Riser_Top","Left_Inner_Color"),t("enemy_riser2InnerColorRight","Riser_Top","Right_Inner_Color"),t("enemy_riser2OuterColorLeft","Riser_Top","Left_Inner_Border"),t("enemy_riser2OuterColorRight","Riser_Top","Right_Inner_Border");break;case 2:t("enemy_anniversaryPallet")}i("Color_Dull_Extension"),i("Top_Right_Pallet_Order"),i("Alternate_Stripes"),AssignHitboxes([[12,12,104,104,"Laser_Center",!0],[128,0,52,128,"Laser_Beam"],[192,0,320,128,"Top_Right"],[0,128,256,64,"Main_Stripe"],[256,128,256,64,"Alternate_Stripe"],[0,192,256,203,"Light_Color_Pallet"],[256,192,256,192,"Dark_Color_Pallet"],[0,395,256,117,"Gradient"],[256,384,256,128,"Riser_Top"]]);break;case 1:function R(){var r=e.GetValue("General","Border_Style");switch(r){case 0:t("general_mainBorder1","General","Border"),t("general_mainPallet1Shadow","Pallet","Shadow"),t("general_mainPallet11","Pallet","Square_1"),t("general_mainPallet11Overlay","Pallet","Square_1_Overlay"),t("general_mainPallet12","Pallet","Square_2"),t("general_mainPallet12Overlay","Pallet","Square_2_Overlay"),t("general_mainPallet13","Pallet","Square_3"),t("general_mainPallet14","Pallet","Square_4"),t("general_mainPallet14Overlay","Pallet","Square_4_Overlay"),t("general_mainPallet15","Pallet","Square_5");break;case 1:t("general_mainBorder2Bottom","General","Lower_Border"),t("general_mainBorder2Top","General","Border"),t("general_mainPallet2Shadow","Pallet","Shadow"),t("general_mainPallet21","Pallet","Square_1"),t("general_mainPallet21Overlay","Pallet","Square_1_Overlay"),t("general_mainPallet22","Pallet","Square_2"),t("general_mainPallet22Overlay","Pallet","Square_2_Overlay"),t("general_mainPallet23","Pallet","Square_3"),t("general_mainPallet24","Pallet","Square_4"),t("general_mainPallet24Overlay","Pallet","Square_4_Overlay"),t("general_mainPallet25","Pallet","Square_5");break;case 2:t("general_mainBorder3","General","Border"),t("general_mainPallet1Shadow","Pallet","Shadow"),t("general_mainPallet11","Pallet","Square_1"),t("general_mainPallet11Overlay","Pallet","Square_1_Overlay"),t("general_mainPallet12","Pallet","Square_2"),t("general_mainPallet12Overlay","Pallet","Square_2_Overlay"),t("general_mainPallet13","Pallet","Square_3"),t("general_mainPallet14","Pallet","Square_4"),t("general_mainPallet14Overlay","Pallet","Square_4_Overlay"),t("general_mainPallet15","Pallet","Square_5");break;case 3:t("general_mainBorder4","General","Border"),t("general_mainPallet1Shadow","Pallet","Shadow"),t("general_mainPallet11","Pallet","Square_1"),t("general_mainPallet11Overlay","Pallet","Square_1_Overlay"),t("general_mainPallet12","Pallet","Square_2"),t("general_mainPallet12Overlay","Pallet","Square_2_Overlay"),t("general_mainPallet13","Pallet","Square_3"),t("general_mainPallet14","Pallet","Square_4"),t("general_mainPallet14Overlay","Pallet","Square_4_Overlay"),t("general_mainPallet15","Pallet","Square_5");break;case 4:t("general_mainBorder5Bottom","General","Lower_Border"),t("general_mainBorder5Top","General","Border"),t("general_mainPallet2Shadow","Pallet","Shadow"),t("general_mainPallet21","Pallet","Square_1"),t("general_mainPallet21Overlay","Pallet","Square_1_Overlay"),t("general_mainPallet22","Pallet","Square_2"),t("general_mainPallet22Overlay","Pallet","Square_2_Overlay"),t("general_mainPallet23","Pallet","Square_3"),t("general_mainPallet24","Pallet","Square_4"),t("general_mainPallet24Overlay","Pallet","Square_4_Overlay"),t("general_mainPallet25","Pallet","Square_5");break;case 5:t("general_mainBorder6Bottom","General","Lower_Border"),t("general_mainBorder6Top","General","Border"),t("general_mainPallet2Shadow","Pallet","Shadow"),t("general_mainPallet21","Pallet","Square_1"),t("general_mainPallet21Overlay","Pallet","Square_1_Overlay"),t("general_mainPallet22","Pallet","Square_2"),t("general_mainPallet22Overlay","Pallet","Square_2_Overlay"),t("general_mainPallet23","Pallet","Square_3"),t("general_mainPallet24","Pallet","Square_4"),t("general_mainPallet24Overlay","Pallet","Square_4_Overlay"),t("general_mainPallet25","Pallet","Square_5");break;case 6:t("general_mainBorder8","General","Lower_Border"),t("general_mainBorder1","General","Border"),t("general_mainPallet1Shadow","Pallet","Shadow"),t("general_mainPallet11","Pallet","Square_1"),t("general_mainPallet11Overlay","Pallet","Square_1_Overlay"),t("general_mainPallet12","Pallet","Square_2"),t("general_mainPallet12Overlay","Pallet","Square_2_Overlay"),t("general_mainPallet13","Pallet","Square_3"),t("general_mainPallet14","Pallet","Square_4"),t("general_mainPallet14Overlay","Pallet","Square_4_Overlay"),t("general_mainPallet15","Pallet","Square_5")}}l("General","Background");var L=e.GetValue("Top_Left","Type");switch(L){case 0:var D=e.GetValue("Top_Left","Active_Jump_Pad_Style");switch(D){case 0:t("general_jumpPad1ActiveColor","Top_Left","Active_Jump_Pad_Color"),t("general_jumpPad1ActiveBorder","Top_Left","Active_Jump_Pad_Border"),t("general_jumpPad1ActivePallet","Top_Left","Active_Jump_Pad_Side");break;case 1:t("general_jumpPad1ActiveColor","Top_Left","Active_Jump_Pad_Color"),t("general_jumpPad2ActiveBorder","Top_Left","Active_Jump_Pad_Border"),t("general_jumpPad1ActivePallet","Top_Left","Active_Jump_Pad_Side");break;case 2:t("general_jumpPad1ActiveColor","Top_Left","Active_Jump_Pad_Color"),t("general_jumpPad3ActiveDecoration","Top_Left","Active_Jump_Pad_Decoration_1"),t("general_jumpPad1ActiveBorder","Top_Left","Active_Jump_Pad_Border"),t("general_jumpPad1ActivePallet","Top_Left","Active_Jump_Pad_Side");break;case 3:t("general_jumpPad1ActiveColor","Top_Left","Active_Jump_Pad_Color"),t("general_jumpPad4ActiveDecorationCenter","Top_Left","Active_Jump_Pad_Decoration_2"),t("general_jumpPad4ActiveDecoration","Top_Left","Active_Jump_Pad_Decoration_1"),t("general_jumpPad4ActiveBorder","Top_Left","Active_Jump_Pad_Border"),t("general_jumpPad1ActivePallet","Top_Left","Active_Jump_Pad_Side");break;case 4:t("general_jumpPad1ActiveColor","Top_Left","Active_Jump_Pad_Color"),t("general_jumpPad5ActiveDecoration","Top_Left","Active_Jump_Pad_Decoration_1"),t("general_jumpPad1ActiveBorder","Top_Left","Active_Jump_Pad_Border"),t("general_jumpPad1ActivePallet","Top_Left","Active_Jump_Pad_Side");break;case 5:t("general_jumpPad1ActiveColor","Top_Left","Active_Jump_Pad_Color"),t("general_jumpPad6ActiveDecoration","Top_Left","Active_Jump_Pad_Decoration_1"),t("general_jumpPad1ActiveBorder","Top_Left","Active_Jump_Pad_Border"),t("general_jumpPad1ActivePallet","Top_Left","Active_Jump_Pad_Side");break;case 6:t("general_jumpPad1ActiveColor","Top_Left","Active_Jump_Pad_Color"),t("general_jumpPad7ActiveDecoration","Top_Left","Active_Jump_Pad_Decoration_1"),t("general_jumpPad1ActiveBorder","Top_Left","Active_Jump_Pad_Border"),t("general_jumpPad1ActivePallet","Top_Left","Active_Jump_Pad_Side");break;case 7:t("general_jumpPad8ActiveColor"),t("general_jumpPad1ActiveColor","Top_Left","Active_Jump_Pad_Decoration_3"),t("general_jumpPad1ActiveBorder","Top_Left","Active_Jump_Pad_Border"),t("general_jumpPad1ActivePallet","Top_Left","Active_Jump_Pad_Side")}var G=e.GetValue("Top_Left","Inactive_Jump_Pad_Style");switch(G){case 0:t("general_jumpPad1Color","Top_Left","Inactive_Jump_Pad_Color"),t("general_jumpPad1Border","Top_Left","Inactive_Jump_Pad_Border"),t("general_jumpPad1Pallet","Top_Left","Inactive_Jump_Pad_Side");break;case 1:t("general_jumpPad1Color","Top_Left","Inactive_Jump_Pad_Color"),t("general_jumpPad2Border","Top_Left","Inactive_Jump_Pad_Border"),t("general_jumpPad1Pallet","Top_Left","Inactive_Jump_Pad_Side");break;case 2:t("general_jumpPad1Color","Top_Left","Inactive_Jump_Pad_Color"),t("general_jumpPad3Decoration","Top_Left","Inactive_Jump_Pad_Decoration_1"),t("general_jumpPad1Border","Top_Left","Inactive_Jump_Pad_Border"),t("general_jumpPad1Pallet","Top_Left","Inactive_Jump_Pad_Side");break;case 3:t("general_jumpPad1Color","Top_Left","Inactive_Jump_Pad_Color"),t("general_jumpPad4DecorationCenter","Top_Left","Inactive_Jump_Pad_Decoration_2"),t("general_jumpPad4Decoration","Top_Left","Inactive_Jump_Pad_Decoration_1"),t("general_jumpPad4Border","Top_Left","Inactive_Jump_Pad_Border"),t("general_jumpPad1Pallet","Top_Left","Inactive_Jump_Pad_Side");break;case 4:t("general_jumpPad1Color","Top_Left","Inactive_Jump_Pad_Color"),t("general_jumpPad5Decoration","Top_Left","Inactive_Jump_Pad_Decoration_1"),t("general_jumpPad1Border","Top_Left","Inactive_Jump_Pad_Border"),t("general_jumpPad1Pallet","Top_Left","Inactive_Jump_Pad_Side");break;case 5:t("general_jumpPad1Color","Top_Left","Inactive_Jump_Pad_Color"),t("general_jumpPad6Decoration","Top_Left","Inactive_Jump_Pad_Decoration_1"),t("general_jumpPad1Border","Top_Left","Inactive_Jump_Pad_Border"),t("general_jumpPad1Pallet","Top_Left","Inactive_Jump_Pad_Side");break;case 6:t("general_jumpPad1Color","Top_Left","Inactive_Jump_Pad_Color"),t("general_jumpPad7Decoration","Top_Left","Inactive_Jump_Pad_Decoration_1"),t("general_jumpPad1Border","Top_Left","Inactive_Jump_Pad_Border"),t("general_jumpPad1Pallet","Top_Left","Inactive_Jump_Pad_Side");break;case 7:t("general_jumpPad8Color"),t("general_jumpPad1Color","Top_Left","Inactive_Jump_Pad_Decoration_3"),t("general_jumpPad1Border","Top_Left","Inactive_Jump_Pad_Border"),t("general_jumpPad1Pallet","Top_Left","Inactive_Jump_Pad_Side")}R();var A=e.GetValue("General","Decoration_Type");switch(A){case 0:break;case 1:t("general_decoration1","General","Decoration_Color_1");break;case 2:t("general_decoration2","General","Decoration_Color_1"),t("general_decoration2Outline","General","Decoration_Color_2");break;case 3:t("general_mainBorder7Decoration1","General","Decoration_Color_1"),t("general_mainBorder7Decoration2","General","Decoration_Color_2"),t("general_mainBorder7Decoration3","General","Decoration_Color_3"),t("general_mainBorder7Decoration4","General","Border")}break;case 1:R(),t("mover_ArrowActiveColor","Top_Left","Active_Mover_Arrow_Color"),t("mover_ArrowActiveInnerColor","Top_Left","Active_Mover_Arrow_Inner_Color"),t("mover_ArrowActiveBorder","Top_Left","Active_Mover_Arrow_Border"),t("mover_ArrowActivePallet","Top_Left","Active_Mover_Arrow_Side"),t("mover_ArrowInactiveColor","Top_Left","Inactive_Mover_Arrow_Color"),t("mover_ArrowInactiveInnerColor","Top_Left","Inactive_Mover_Arrow_Inner_Color"),t("mover_ArrowInactiveBorder","Top_Left","Inactive_Mover_Arrow_Border"),t("mover_ArrowInactivePallet","Top_Left","Inactive_Mover_Arrow_Side"),t("mover_BorderStyle1","Top_Left","Mover_Border_Outline")}AssignHitboxes([[0,0,341,171,"Top_Left"],[341,0,171,171,"General"],[0,171,171,171,"General"],[171,171,171,171,"Pallet"],[341,171,171,171,"General"],[0,341,171,171,"General"],[171,341,171,171,"General"],[341,341,171,171,"General"]]);break;case 2:l("Fragile","Background"),context.clearRect(0,0,341,171);var L=e.GetValue("Top_Left","Type");switch(L){case 0:t("fragile_topLeftLQGemColor","Top_Left","Low_Quality_Gem_Color"),t("fragile_topLeftLQGemOutline","Top_Left","Low_Quality_Gem_Outline"),t("fragile_topLeftLQGemOutlineHighlight","Top_Left","Low_Quality_Gem_Highlight"),t("fragile_topLeftMidgroundLighten","Top_Left","Midground_Gradient_Top"),t("fragile_topLeftMidgroundDarken","Top_Left","Midground_Gradient_Bottom"),e.GetValue("Top_Left","Midground_Decoration");break;case 1:t("fragileActive_checkerBottom1","Top_Left","Bottom_Checker_1"),t("fragileActive_checkerBottom2","Top_Left","Bottom_Checker_2"),t("fragileActive_checkerTop1","Top_Left","Top_Checker_1"),t("fragileActive_checkerTop2","Top_Left","Top_Checker_2");var F=e.GetValue("Top_Left","Highscore_Style");switch(F){case 0:t("fragileActive_highscoreTop1Outline","Top_Left","Top_Highscore_Outline"),t("fragileActive_highscoreTop1","Top_Left","Top_Highscore_Color"),t("fragileActive_highscoreBottom1","Top_Left","Bottom_Highscore_Color");break;case 1:t("fragileActive_highscoreTop2","Top_Left","Top_Highscore_Color"),t("fragileActive_highscoreBottom2","Top_Left","Bottom_Highscore_Color");break;case 2:t("fragileActive_highscoreTop2","Top_Left","Top_Highscore_Color"),t("fragileActive_highscoreBottom3","Top_Left","Bottom_Highscore_Color")}}var x=e.GetValue("Fragile","Border_Style");switch(x){case 0:t("fragile_border1","Fragile","Border"),t("fragile_border1Outline","Fragile","Border"),t("fragile_border1Stripe","Fragile","Stripes");break;case 1:t("fragile_border1","Fragile","Border"),t("fragile_border2Outline","Fragile","Border"),t("fragile_border2Stripe","Fragile","Stripes");break;case 2:t("fragile_border2","Fragile","Border");break;case 6:t("fragile_border4","Fragile","Border");break;case 3:t("fragile_border2","Fragile","Border"),t("fragile_border1Stripe","Fragile","Stripes");break;case 4:t("fragile_border1","Fragile","Border");break;case 5:t("fragile_border3","Fragile","Border"),t("fragile_border3Abstract","Fragile","Border")}var A=e.GetValue("Fragile","Decoration_Type");switch(A){case 0:break;case 1:t("fragile_decoration1","Fragile","Border");break;case 2:t("fragile_decoration2","Fragile","Border")}t("general_mainPallet1Shadow","Pallet","Shadow"),t("general_mainPallet11","Pallet","Square_1"),t("general_mainPallet11Overlay","Pallet","Square_1_Overlay"),t("general_mainPallet12","Pallet","Square_2"),t("general_mainPallet12Overlay","Pallet","Square_2_Overlay"),t("general_mainPallet13","Pallet","Square_3"),t("general_mainPallet14","Pallet","Square_4"),t("general_mainPallet14Overlay","Pallet","Square_4_Overlay"),t("general_mainPallet15","Pallet","Square_5"),AssignHitboxes([[0,0,341,171,"Top_Left"],[341,0,171,171,"Fragile"],[0,171,171,171,"Fragile"],[171,171,171,171,"Pallet"],[341,171,171,171,"Fragile"],[0,341,171,171,"Fragile"],[171,341,171,171,"Fragile"],[341,341,171,171,"Fragile"]])}!function e(r){let o=0,t=r.length;console.log("preparing",r);var a=!0;!function e(){let l=r[o][0],n=r[o][1][0]||0,i=r[o][1][1]||0;try{function p(){SpriteMaker.Data.alreadyDraw.to=setTimeout(()=>{!SpriteMaker.Data.alreadyDraw.includes(o)&&(SpriteMaker.Data.alreadyDraw.push(o),context.drawImage(l,n,i),console.log("drawing progress",o+1,"/",t),++o<t&&a?e():a=!1,o>=t&&(processingDots.classList.remove("active"),SpriteMaker.Data.tintedImageCount=0,SpriteMaker.Data.isDrawing=!1,SpriteMaker.Data.alreadyDraw=[],SpriteMaker.Data.alreadyDrawNames=[]))},1)}l.src.startsWith("data")||a&&p(),l.complete&&a&&p(),l.addEventListener("load",p),l.addEventListener("error",p)}catch{console.log("image error",r[o],r)}}()}(window.f)}},Initialize(){var e=navigator.deviceMemory,r=20;void 0!=e&&(r=Math.round((e-8+10)*1.5)+20),window.vcache=new VariableCache(r),window.sprite=new Spritesheet(cachedSpriteData[0])}};const ImageSources={enemy_laserCenter:"enemy/laser_center_color",enemy_laserCenterBorder:"enemy/laser_center_border",enemy_laserCenterBackground:"enemy/laser_center_background",enemy_laserBeam:"enemy/laser_beam_color",enemy_laserBeamBorder:"enemy/laser_beam_border",enemy_laserBeamBackground:"enemy/laser_beam_background",enemy_laserBeam1:"enemy/laser_beam_1_color",enemy_laserBeam1Background:"enemy/laser_beam_1_background",enemy_laserBeam2:"enemy/laser_beam_2_color",enemy_laserBeam2Background:"enemy/laser_beam_2_background",enemy_laserBeam3:"enemy/laser_beam_3_color",enemy_laserBeam3Background:"enemy/laser_beam_3_background",enemy_laserBeam4:"enemy/laser_beam_4_color",enemy_laserBeam4Background:"enemy/laser_beam_4_background",enemy_topRightBackground:"enemy/top_right_background",enemy_topRightBackgroundWide:"enemy/top_right_background_wide",enemy_topRightStarColor_l:"enemy/top_right_star_color_l",enemy_topRightStarColor_r:"enemy/top_right_star_color_r",enemy_topRightStarShadow_l:"enemy/top_right_star_shadow_l",enemy_topRightStarShadow_r:"enemy/top_right_star_shadow_r",enemy_topRightFlipTileSide:"enemy/topright/flip_tile_side","enemy_topRightFlipTile-0-1":"enemy/topright/flip_tile_0_1","enemy_topRightFlipTile-0-2":"enemy/topright/flip_tile_0_2","enemy_topRightFlipTile-1-1":"enemy/topright/flip_tile_1_1","enemy_topRightFlipTile-1-2":"enemy/topright/flip_tile_1_2","enemy_topRightFlipTile-2-1":"enemy/topright/flip_tile_2_1","enemy_topRightFlipTile-2-2":"enemy/topright/flip_tile_2_2","enemy_topRightFlipTile-3-1-1":"enemy/topright/flip_tile_3_1_1","enemy_topRightFlipTile-3-1-2":"enemy/topright/flip_tile_3_1_2","enemy_topRightFlipTile-3-2-1":"enemy/topright/flip_tile_3_2_1","enemy_topRightFlipTile-3-2-2":"enemy/topright/flip_tile_3_2_2","enemy_topRightFlipTile-4-1-1":"enemy/topright/flip_tile_4_1_1","enemy_topRightFlipTile-4-1-2":"enemy/topright/flip_tile_4_1_2","enemy_topRightFlipTile-4-2-1":"enemy/topright/flip_tile_4_2_1","enemy_topRightFlipTile-4-2-2":"enemy/topright/flip_tile_4_2_2","enemy_topRightFlipTile-5-1":"enemy/topright/flip_tile_5_1","enemy_topRightFlipTile-5-2":"enemy/topright/flip_tile_5_2","enemy_topRightFlipTile-6-1":"enemy/topright/flip_tile_6_1","enemy_topRightFlipTile-6-2":"enemy/topright/flip_tile_6_2","enemy_topRightFlipTile-7-1":"enemy/topright/flip_tile_7_1","enemy_topRightFlipTile-7-2":"enemy/topright/flip_tile_7_2","enemy_topRightFlipTile-8-1-1":"enemy/topright/flip_tile_8_1_1","enemy_topRightFlipTile-8-1-2":"enemy/topright/flip_tile_8_1_2","enemy_topRightFlipTile-8-2-1":"enemy/topright/flip_tile_8_2_1","enemy_topRightFlipTile-8-2-2":"enemy/topright/flip_tile_8_2_2","enemy_topRightFlipTile-9-1":"enemy/topright/flip_tile_9_1","enemy_topRightFlipTile-9-2":"enemy/topright/flip_tile_9_2","enemy_topRightFlipTile-10-1-1":"enemy/topright/flip_tile_10_1_1","enemy_topRightFlipTile-10-1-2":"enemy/topright/flip_tile_10_1_2","enemy_topRightFlipTile-10-2-1":"enemy/topright/flip_tile_10_2_1","enemy_topRightFlipTile-10-2-2":"enemy/topright/flip_tile_10_2_2",enemy_topRightBackgroundPallet:"enemy/topright/basic_pallet",enemy_topRightGradient:"enemy/topright/gradient",enemy_topRightGradient2:"enemy/topright/gradient_2",enemy_topRightGradientStripes:"enemy/topright/gradient_stripes",enemy_topRightPowerupsBase:"enemy/topright/powerups_base",enemy_topRightPowerupsDark:"enemy/topright/powerups_color_dark",enemy_topRightPowerupsLight:"enemy/topright/powerups_color_light",enemy_topRightPowerupsGradient:"enemy/topright/powerups_gradient",enemy_topRightCubeBackgroundTop:"enemy/topright/cube_top_background",enemy_topRightCubeBackgroundBottom:"enemy/topright/cube_bottom_background",enemy_topRightCubePatternTop:"enemy/topright/cube_top_pattern",enemy_topRightCubePatternBottom:"enemy/topright/cube_bottom_pattern",enemy_topRightCubeBorder:"enemy/topright/cube_border",enemy_topRightRhombusFaceOverlay:"enemy/topright/rhombus_face_overlay",enemy_topRightRhombusFaceBackground:"enemy/topright/rhombus_face_background",enemy_topRightSunsetCubePattern:"enemy/topright/sunset_cube_color",enemy_topRightSunsetCubeBackground:"enemy/topright/sunset_cube_background",enemy_topRightSmallJump1:"enemy/topright/small_jump_1",enemy_topRightSmallJump2:"enemy/topright/small_jump_2",enemy_topRightSmallJump3:"enemy/topright/small_jump_3",enemy_topRightSmallJump4:"enemy/topright/small_jump_4",enemy_topRightColoredBox1:"enemy/topright/colored_box_1",enemy_topRightColoredBox2:"enemy/topright/colored_box_2",enemy_topRightColoredBox3:"enemy/topright/colored_box_3",enemy_topRightColoredBox4:"enemy/topright/colored_box_4",enemy_topRightColoredBox5:"enemy/topright/colored_box_5",enemy_topRightColoredBox6:"enemy/topright/colored_box_6",enemy_topRightColoredBox7:"enemy/topright/colored_box_7",enemy_topRightColoredBox8:"enemy/topright/colored_box_8",enemy_topRightColoredBoxBackground:"enemy/topright/colored_box_background",enemy_topRightPallet0:"enemy/topright/pallets/0","enemy_topRightPallet0-1":"enemy/topright/pallets/0-1","enemy_topRightPallet0-1-1":"enemy/topright/pallets/0-1-1","enemy_topRightPallet0-1-2":"enemy/topright/pallets/0-1-2","enemy_topRightPallet0-1-1-1":"enemy/topright/pallets/0-1-1-1","enemy_topRightPallet0-1-2-1":"enemy/topright/pallets/0-1-2-1","enemy_topRightPallet1-1":"enemy/topright/pallets/1-1","enemy_topRightPallet1-2":"enemy/topright/pallets/1-2","enemy_topRightPallet1-3":"enemy/topright/pallets/1-3","enemy_topRightPallet1-4":"enemy/topright/pallets/1-4","enemy_topRightPallet2-1":"enemy/topright/pallets/2-1","enemy_topRightPallet2-2":"enemy/topright/pallets/2-2","enemy_topRightPallet2-3":"enemy/topright/pallets/2-3","enemy_topRightPallet2-4":"enemy/topright/pallets/2-4","enemy_topRightPallet2-5":"enemy/topright/pallets/2-5","enemy_topRightPallet2-6":"enemy/topright/pallets/2-6","enemy_topRightPallet3-1":"enemy/topright/pallets/3-1","enemy_topRightPallet3-1-1":"enemy/topright/pallets/3-1-1","enemy_topRightPallet3-2":"enemy/topright/pallets/3-2","enemy_topRightPallet3-3":"enemy/topright/pallets/3-3","enemy_topRightPallet3-4":"enemy/topright/pallets/3-4","enemy_topRightPallet3-5":"enemy/topright/pallets/3-5","enemy_topRightPallet3-6":"enemy/topright/pallets/3-6","enemy_topRightPallet4-1":"enemy/topright/pallets/4-1","enemy_topRightPallet4-2":"enemy/topright/pallets/4-2","enemy_topRightPallet4-3":"enemy/topright/pallets/4-3","enemy_topRightPallet4-4":"enemy/topright/pallets/4-4","enemy_topRightPallet4-5":"enemy/topright/pallets/4-5","enemy_topRightPallet4-6":"enemy/topright/pallets/4-6","enemy_topRightPallet4-7":"enemy/topright/pallets/4-7","enemy_topRightPallet4-8":"enemy/topright/pallets/4-8",enemy_stripeDefaultShadowLeft:"enemy/stripe_default_shadow_left",enemy_stripeDefaultColorLeft:"enemy/stripe_default_color_left",enemy_stripeDefaultShadowRight:"enemy/stripe_default_shadow_right",enemy_stripeDefaultColorRight:"enemy/stripe_default_color_right",enemy_stripeSplitShadowLeft:"enemy/stripe_split_shadow_left",enemy_stripeSplitColorLeft:"enemy/stripe_split_color_left",enemy_stripeSplitShadowRight:"enemy/stripe_split_shadow_right",enemy_stripeSplitColorRight:"enemy/stripe_split_color_right",enemy_stripeWideShadowLeft:"enemy/stripe_wide_shadow_left",enemy_stripeWideColorLeft:"enemy/stripe_wide_color_left",enemy_stripeWideShadowRight:"enemy/stripe_wide_shadow_right",enemy_stripeWideColorRight:"enemy/stripe_wide_color_right",enemy_stripeBackgroundLeft:"enemy/stripe_background_left",enemy_stripeBackgroundRight:"enemy/stripe_background_right",enemy_stripeIgniteColorLeft:"enemy/stripe_ignite_color_left","enemy_stripeRight1-1":"enemy/stripe_right_1_1","enemy_stripeRight1-2":"enemy/stripe_right_1_2","enemy_stripeRight1-3":"enemy/stripe_right_1_3","enemy_stripeRight1-4":"enemy/stripe_right_1_4","enemy_stripeRight2-1":"enemy/stripe_right_2_1","enemy_stripeRight2-2":"enemy/stripe_right_2_2","enemy_stripeRight2-3":"enemy/stripe_right_2_3","enemy_stripeRight2-3-1":"enemy/stripe_right_2_3_1",enemy_stripeRight3:"enemy/stripe_right_3",enemy_colorVibrantBackground1:"enemy/color_vibrant_background_1",enemy_colorVibrantBackground2:"enemy/color_vibrant_background_2",enemy_colorVibrantBackground2Addition:"enemy/color_vibrant_background_2_addition",enemy_colorVibrantBackground3:"enemy/color_vibrant_background_3",enemy_colorVibrantBackground4:"enemy/color_vibrant_background_4",enemy_colorVibrantBackground5:"enemy/color_vibrant_background_5",enemy_colorVibrantBackground6:"enemy/color_vibrant_background_6",enemy_colorVibrantHexFill:"enemy/color_vibrant_hex_fill",enemy_colorDullBackground1:"enemy/color_dull_background_1",enemy_colorDullBackground1Addition:"enemy/color_dull_background_1_addition",enemy_colorDullBackground2:"enemy/color_dull_background_2",enemy_colorDullBackground3:"enemy/color_dull_background_3",enemy_colorDullBackground4:"enemy/color_dull_background_4",enemy_colorDullBackground5:"enemy/color_dull_background_5",enemy_colorDullBackground6Addition:"enemy/color_dull_background_6_addition",enemy_colorDullBackground6:"enemy/color_dull_background_6",enemy_colorDullBackground7:"enemy/color_dull_background_7",enemy_colorDullBackground8:"enemy/color_dull_background_8",enemy_colorDullBackground9:"enemy/color_dull_background_9",enemy_colorDullBackground10:"enemy/color_dull_background_10",enemy_colorDullBackground11:"enemy/color_dull_background_11",enemy_colorDullBackground12:"enemy/color_dull_background_12",enemy_colorVibrant1Border1:"enemy/color_vibrant_1_border_1",enemy_colorVibrant1Border2:"enemy/color_vibrant_1_border_2",enemy_colorVibrant1Border3:"enemy/color_vibrant_1_border_3",enemy_colorVibrant1Border4:"enemy/color_vibrant_1_border_4",enemy_colorVibrant1Border5:"enemy/color_vibrant_1_border_5",enemy_colorVibrant1Border6:"enemy/color_vibrant_1_border_6",enemy_colorDull1Border1:"enemy/color_dull_1_border_1",enemy_colorDull1Border2:"enemy/color_dull_1_border_2",enemy_colorDull1Border3:"enemy/color_dull_1_border_3",enemy_colorDull1Border4:"enemy/color_dull_1_border_4",enemy_colorDull1Border5:"enemy/color_dull_1_border_5",enemy_colorDull1Border6:"enemy/color_dull_1_border_6",enemy_colorDull1Border7:"enemy/color_dull_1_border_7",enemy_colorDull1Border8:"enemy/color_dull_1_border_8",enemy_colorDull1Border9:"enemy/color_dull_1_border_9",enemy_colorDull1Border10:"enemy/color_dull_1_border_10",enemy_colorDull1Border11:"enemy/color_dull_1_border_11",enemy_colorDull1Border12:"enemy/color_dull_1_border_12",enemy_colorVibrant2Border1:"enemy/color_vibrant_2_border_1",enemy_colorVibrant2Border2:"enemy/color_vibrant_2_border_2",enemy_colorVibrant2Border3:"enemy/color_vibrant_2_border_3",enemy_colorVibrant2Border4:"enemy/color_vibrant_2_border_4",enemy_colorVibrant2Border5:"enemy/color_vibrant_2_border_5",enemy_colorVibrant2Border6:"enemy/color_vibrant_2_border_6",enemy_colorVibrant2Border1Glow:"enemy/color_vibrant_2_border_1_glow",enemy_colorVibrant2Border2Glow:"enemy/color_vibrant_2_border_2_glow",enemy_colorVibrant2Border3Glow:"enemy/color_vibrant_2_border_3_glow",enemy_colorVibrant2Border4Glow:"enemy/color_vibrant_2_border_4_glow",enemy_colorVibrant2Border5Glow:"enemy/color_vibrant_2_border_5_glow",enemy_colorVibrant2Border6Glow:"enemy/color_vibrant_2_border_6_glow",enemy_colorDull2Border1:"enemy/color_dull_2_border_1",enemy_colorDull2Border2:"enemy/color_dull_2_border_2",enemy_colorDull2Border3:"enemy/color_dull_2_border_3",enemy_colorDull2Border4:"enemy/color_dull_2_border_4",enemy_colorDull2Border5:"enemy/color_dull_2_border_5",enemy_colorDull2Border6:"enemy/color_dull_2_border_6",enemy_colorDull2Border1Glow:"enemy/color_dull_2_border_1_glow",enemy_colorDull2Border2Glow:"enemy/color_dull_2_border_2_glow",enemy_colorDull2Border3Glow:"enemy/color_dull_2_border_3_glow",enemy_colorDull2Border4Glow:"enemy/color_dull_2_border_4_glow",enemy_colorDull2Border5Glow:"enemy/color_dull_2_border_5_glow",enemy_colorDull2Border6Glow:"enemy/color_dull_2_border_6_glow",enemy_gradient1BorderThick:"enemy/gradient_1_border_thick",enemy_gradient1BorderThin:"enemy/gradient_1_border_thin",enemy_gradient1Darken:"enemy/gradient_1_darken",enemy_gradient1Lighten:"enemy/gradient_1_lighten",enemy_gradient1StripDarken:"enemy/gradient_1_strip_darken",enemy_gradient1StripLighten:"enemy/gradient_1_strip_lighten",enemy_gradient2Darken:"enemy/gradient_2_darken",enemy_gradient2Lighten:"enemy/gradient_2_lighten",enemy_gradient2StripDarken:"enemy/gradient_2_strip_darken",enemy_gradient2StripLighten:"enemy/gradient_2_strip_lighten",enemy_riserBackground:"enemy/riser_background",enemy_riser1InnerColorLeft:"enemy/riser_1_inner_color_left",enemy_riser1InnerColorRight:"enemy/riser_1_inner_color_right",enemy_riser1InnerBorderLeft:"enemy/riser_1_inner_border_left",enemy_riser1InnerBorderRight:"enemy/riser_1_inner_border_right",enemy_riser1OuterBorderLeft:"enemy/riser_1_outer_border_left",enemy_riser1OuterBorderRight:"enemy/riser_1_outer_border_right",enemy_riser2InnerColorLeft:"enemy/riser_2_inner_color_left",enemy_riser2InnerColorRight:"enemy/riser_2_inner_color_right",enemy_riser2OuterColorLeft:"enemy/riser_2_outer_color_left",enemy_riser2OuterColorRight:"enemy/riser_2_outer_color_right",enemy_alternateStar:"enemy/alternate_star",enemy_anniversaryPallet:"enemy/anniversary_pallet",enemy_bottomRightBrain:"enemy/bottom_right_brain",general_jumpPad1ActiveBorder:"general/jump_pad_1_active_border",general_jumpPad1ActiveColor:"general/jump_pad_1_active_color",general_jumpPad1ActivePallet:"general/jump_pad_1_active_pallet",general_jumpPad2ActiveBorder:"general/jump_pad_2_active_border",general_jumpPad3ActiveDecoration:"general/jump_pad_3_active_decoration",general_jumpPad4ActiveBorder:"general/jump_pad_4_active_border",general_jumpPad4ActiveDecoration:"general/jump_pad_4_active_decoration",general_jumpPad4ActiveDecorationCenter:"general/jump_pad_4_active_decoration_center",general_jumpPad5ActiveDecoration:"general/jump_pad_5_active_decoration",general_jumpPad6ActiveDecoration:"general/jump_pad_6_active_decoration",general_jumpPad7ActiveDecoration:"general/jump_pad_7_active_decoration",general_jumpPad8ActiveColor:"general/jump_pad_8_active_color",general_jumpPad1Border:"general/jump_pad_1_border",general_jumpPad1Color:"general/jump_pad_1_color",general_jumpPad1Pallet:"general/jump_pad_1_pallet",general_jumpPad2Border:"general/jump_pad_2_border",general_jumpPad3Decoration:"general/jump_pad_3_decoration",general_jumpPad4Border:"general/jump_pad_4_border",general_jumpPad4Decoration:"general/jump_pad_4_decoration",general_jumpPad4DecorationCenter:"general/jump_pad_4_decoration_center",general_jumpPad5Decoration:"general/jump_pad_5_decoration",general_jumpPad6Decoration:"general/jump_pad_6_decoration",general_jumpPad7Decoration:"general/jump_pad_7_decoration",general_jumpPad8Color:"general/jump_pad_8_color",general_decoration1:"general/decoration_1",general_decoration2:"general/decoration_2",general_decoration2Outline:"general/decoration_2_outline",general_mainBorder1:"general/main_border_1",general_mainBorder2Top:"general/main_border_2_top",general_mainBorder2Bottom:"general/main_border_2_bottom",general_mainBorder3:"general/main_border_3",general_mainBorder4:"general/main_border_4",general_mainBorder5Top:"general/main_border_5_top",general_mainBorder5Bottom:"general/main_border_5_bottom",general_mainBorder6Top:"general/main_border_6_top",general_mainBorder6Bottom:"general/main_border_6_bottom",general_mainBorder7Decoration1:"general/main_border_7_decoration_1",general_mainBorder7Decoration2:"general/main_border_7_decoration_2",general_mainBorder7Decoration3:"general/main_border_7_decoration_3",general_mainBorder7Decoration4:"general/main_border_7_decoration_4",general_mainBorder8:"general/main_border_8",general_mainPallet1Shadow:"general/main_pallet_1_shadow",general_mainPallet11:"general/main_pallet_1_1",general_mainPallet11Overlay:"general/main_pallet_1_1_overlay",general_mainPallet12:"general/main_pallet_1_2",general_mainPallet12Overlay:"general/main_pallet_1_2_overlay",general_mainPallet13:"general/main_pallet_1_3",general_mainPallet14:"general/main_pallet_1_4",general_mainPallet14Overlay:"general/main_pallet_1_4_overlay",general_mainPallet15:"general/main_pallet_1_5",general_mainPallet2Shadow:"general/main_pallet_2_shadow",general_mainPallet21:"general/main_pallet_2_1",general_mainPallet21Overlay:"general/main_pallet_2_1_overlay",general_mainPallet22:"general/main_pallet_2_2",general_mainPallet22Overlay:"general/main_pallet_2_2_overlay",general_mainPallet23:"general/main_pallet_2_3",general_mainPallet24:"general/main_pallet_2_4",general_mainPallet24Overlay:"general/main_pallet_2_4_overlay",general_mainPallet25:"general/main_pallet_2_5",mover_BorderStyle1:"mover/border_style_1",mover_ArrowActiveBorder:"mover/arrow_active_border",mover_ArrowActiveColor:"mover/arrow_active_color",mover_ArrowActiveInnerColor:"mover/arrow_active_inner_color",mover_ArrowActivePallet:"mover/arrow_active_pallet",mover_ArrowInactiveBorder:"mover/arrow_inactive_border",mover_ArrowInactiveColor:"mover/arrow_inactive_color",mover_ArrowInactiveInnerColor:"mover/arrow_inactive_inner_color",mover_ArrowInactivePallet:"mover/arrow_inactive_pallet",fragile_border1Outline:"fragile/border_1_outline",fragile_border1Stripe:"fragile/border_1_stripe",fragile_border2Outline:"fragile/border_2_outline",fragile_border2Stripe:"fragile/border_2_stripe",fragile_border3Abstract:"fragile/border_3_abstract",fragile_decoration1:"fragile/decoration_1",fragile_decoration2:"fragile/decoration_2",fragile_border1:"fragile/border_1",fragile_border2:"fragile/border_2",fragile_border3:"fragile/border_3",fragile_border4:"fragile/border_4",fragile_topLeftLQGemColor:"fragile/top_left_lq_gem_color",fragile_topLeftLQGemOutline:"fragile/top_left_lq_gem_outline",fragile_topLeftLQGemOutlineHighlight:"fragile/top_left_lq_gem_outline_highlight",fragile_topLeftMidgroundDarken:"fragile/top_left_midground_darken",fragile_topLeftMidgroundLighten:"fragile/top_left_midground_lighten",fragileActive_checkerBottom1:"fragileactive/checker_bottom_1",fragileActive_checkerBottom2:"fragileactive/checker_bottom_2",fragileActive_checkerTop1:"fragileactive/checker_top_1",fragileActive_checkerTop2:"fragileactive/checker_top_2",fragileActive_highscoreBottom1:"fragileactive/highscore_bottom_1",fragileActive_highscoreBottom2:"fragileactive/highscore_bottom_2",fragileActive_highscoreBottom3:"fragileactive/highscore_bottom_3",fragileActive_highscoreTop1:"fragileactive/highscore_top_1",fragileActive_highscoreTop1Outline:"fragileactive/highscore_top_1_outline",fragileActive_highscoreTop2:"fragileactive/highscore_top_2"};var ImageAssets={},loader=document.querySelector("#loader"),page=document.querySelector("#page"),container=document.querySelector("#container"),loaderBarFill=document.querySelector("#loaderBarFill");class Timer{constructor(){this.startTime=null,this.pauseTime=null,this.elapsedTime=0,this.isRunning=!1}start(){this.isRunning||(this.startTime=new Date,this.isRunning=!0)}stop(){this.isRunning&&(this.elapsedTime+=this.getCurrentElapsedTime(),this.startTime=null,this.isRunning=!1)}pause(){this.isRunning&&(this.pauseTime=new Date,this.elapsedTime+=this.getCurrentElapsedTime(),this.isRunning=!1)}clear(){this.startTime=null,this.pauseTime=null,this.elapsedTime=0,this.isRunning=!1}getCurrentElapsedTime(){return this.pauseTime?this.pauseTime-this.startTime:new Date-this.startTime}getTime(){return this.isRunning?this.elapsedTime+this.getCurrentElapsedTime():this.elapsedTime}}function loadAll(){View.Open("LoaderMenu");var e=new Timer;e.start();let r=0,o=Object.keys(ImageSources).length;function t(e,t){let a=document.createElement("img");a.src=e,a.addEventListener("load",()=>{r++,ImageAssets[t]=a,document.querySelector("#hidden").appendChild(a),r===o&&(loader.className="hide",page.className="show",SpriteMaker.Initialize())}),a.addEventListener("error",()=>{++r===o&&(loader.className="hide",page.className="show",SpriteMaker.Initialize())})}window.unzipAndLoadImages=(e,r)=>{JSZip.loadAsync(e).then(function(e){let o=[];try{e.file("assets/meta.json").async("text").then(function(e){var o=JSON.parse(e);1==r?alert('Loading "'+o.name+'" by '+o.author+"."):0==a.length&&(document.querySelector(".loaderText").textContent='Loading "'+o.name+'" by '+o.author+".")})}catch{document.querySelector(".loaderText").innerHTML="Metadata File Missing"}var a=[];for(let l in ImageSources){let n="assets/"+ImageSources[l]+".png";try{let i=e.file(n).async("blob").then(function(e){let r=URL.createObjectURL(e);t(r,l)});o.push(i)}catch{a.push(n)}}if(a.length>0){var p=[];a.forEach(e=>{p.push('<span>"'+e+'"</span>')}),1==r&&(loader.removeAttribute("class"),page.removeAttribute("class")),loader.innerHTML='<span class="loaderText">Missing Files:</span><p style="max-height: 40vh;max-width: 60vw;overflow: auto;">'+p.join("<br>")+"</p>"}Promise.all(o).then(function(){})}).catch(e=>{loader.innerHTML='<span class="loaderText">Image Asset ZIP File Error</span>'})},window.trackProgress=(r,o=0)=>{fetch(r,{mode:"cors"}).then(function(r){let t=r.headers.get("content-length"),a=r.body.getReader(),l=[],n=0;function i(r){if(r.done){let p=new Blob(l,{type:"application/octet-stream"});unzipAndLoadImages(p,o);return}n+=r.value.length;let d=n/t*100;return function r(o){if(loaderBarFill.style.width=o+"%",100==o){var t=!1,a=document.title,l=setInterval(e=>{t?(document.title="[ Loading Finished ]",t=!t):(document.title=a,t=!t),"visible"==document.visibilityState&&(document.title=a,clearInterval(l))},100);e.stop(),View.Close("LoaderMenu"),console.log("loading time:",e.getTime(),"ms"),document.querySelector("#loadLabel").innerHTML="Loading Time: "+e.getTime()/1e3+"s"}}(d),l.push(r.value),a.read().then(i)}return a.read().then(i)}).catch(function(e){"TypeError"===e.name&&"Failed to fetch"===e.message&&window.isLocallyHosted&&window.showLocalMachineTutorial()})},trackProgress("assets.zip")}Array.prototype.add=function(e){let r={};function o(e,r){for(let t in r)e.hasOwnProperty(t)?Array.isArray(e[t])&&Array.isArray(r[t])?e[t]=e[t].concat(r[t]):"object"==typeof e[t]&&"object"==typeof r[t]?o(e[t],r[t]):e[t]=r[t]:e[t]=r[t]}return o(r,this[0]),o(r,e[0]),[r]};class Spritesheet{#a={};Name="";Type=0;Features=[];HasBeenChanged=!1;FirstChangeCall=()=>{};constructor(e){this.SetData(e)}SetData(e){if(this.HasBeenChanged=!1,void 0!=e&&null!=e){this.Data=e.copy(),this.Data.version=spritemakerVersion,this.Name=e.name,this.Type=e.type,this.Features=e.features.copy(),cachedSpriteData[e.type]=e;var r=!1;spriteTemplates.copy().forEach(e=>{e.features==this.Features&&(r=!0)})}}get string(){return this.Data.version=spritemakerVersion,this.Data.name=this.Name,this.Data.features=this.Features,JSON.stringify(this.Data)}Save(){localStorage.setItem("lastSpritesheet",this.string)}SetProperty(e,r,o){this.HasBeenChanged||this.FirstChangeCall(),this.HasBeenChanged=!0;try{let t=this.Features.find(r=>r.name===e);return t?t.properties[r]=o:this.Features.push({name:e,properties:{[r]:o}}),this.Save(),!0}catch{return!1}}RemoveProperty(e){try{let r=this.Features.find(r=>r.name===e);if(r)r[property]=value;else{let o={name:e,[property]:value};this.Features.push(o)}return this.Save(),!0}catch{return!1}}GetProperty(e,r){let o=this.Features.find(r=>r.name.toLowerCase()==e.toLowerCase());if(void 0==o)return!1;var t=spriteTemplates[this.Type].copy().features.find(r=>r.name.toLowerCase()==e.toLowerCase());if(void 0==o.properties[r]){if("all"==r)return t.properties;if(void 0!=(t=t.properties[r]))return console.log("updated",t,[e,r]),t}var a=o.properties[r];if(void 0!=t){var l=t.properties[r];a.length<l.length&&(a+=l.slice(a.length))}return"all"==r?o.properties:a}SetValue(e,r,o){this.HasBeenChanged||this.FirstChangeCall(),this.HasBeenChanged=!0;try{let t=this.Features.find(r=>r.name===e);return t?t.values[r]=o:this.Features.push({name:e,values:{[r]:o}}),this.Save(),!0}catch{return!1}}GetValue(e,r){let o=this.Features.find(r=>r.name.toLowerCase()==e.toLowerCase());try{if(!o.values&&!o.values[r])return{}}catch{return{}}if(void 0==o.values[r]){var t=spriteTemplates[this.Type].copy().features.find(r=>r.name.toLowerCase()==e.toLowerCase());if("all"==r)return t.values;if(void 0!=(t=t.values[r]))return console.log("updated",t,[e,r]),t}return"all"==r?o.values:o.values[r]}}class VariableCache{CacheItems={};MaxItems=10;constructor(e=10){this.MaxItems=e}Add(e,r){this.CacheItems[e]=r;let o=Object.keys(this.CacheItems),t=o.length;if(t>this.MaxItems)for(let a=0;a<t-this.MaxItems;a++)delete this.CacheItems[o[a]]}Get(e){return this.CacheItems[e]}Clear(){this.CacheItems={}}}function updateSpriteOptions(e,r){Object.keys(inputs[e]).forEach(r=>{if(!window.minimalOptions||-1!=window.visibleOptions.indexOf(e+"."+r))try{sprite.SetProperty(e,r,inputs[e][r].value)}catch{}try{sprite.SetValue(e,r,parseFloat(inputs[e][r].value))}catch{}}),renderSprite(e,r)}function renderSprite(e,r){try{clearTimeout(currentDrawTimeoutAlt),clearTimeout(currentDrawTimeout)}catch{}SpriteMaker.Data.Draw(sprite,document.querySelector("#main")),checkFormForRelevantChanges(e,r)}function checkFormForRelevantChanges(e,r){if(r&&r.target&&r.target.tagName&&"select"==r.target.tagName.toLowerCase()&&(SpriteMaker.Data.Draw(sprite,document.querySelector("#main"),!0),window.minimalOptions))try{jscolor.hide(),makeUI(e)}catch{}}function makeUI(e){console.log("making ui for",e),closeUI();var r=['<span class="heading">'+e.replaceAll("_"," ")+"</span>"],o=[];function t(e){return e.startsWith("#")?e:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}!1!=sprite.GetValue(e,"all")&&(o=Object.keys(sprite.GetValue(e,"all"))).forEach(o=>{var t=sprite.GetValue(e,o);if(!isNaN(t)&&void 0!=t&&null!=t){var a=[],l=spriteValues[sprite.Type];void 0!=l&&(l=l.find(r=>r.name===e));var n=l&&l.values&&l.values[o];void 0==l?(console.log("spriteValues does not contain",e),a.push('<option selected value="0">Default</option>')):n?Object.keys(l.values[o]).forEach(e=>{var r=l.values[o][e];a.push("<option "+(r.key==t?"selected ":"")+'value="'+r.key+'">'+r.value+"</option>")}):a.push('<input id="'+o+'" type="number" placeholder="'+t+'" value="'+t+'" step="0.1">'),n?r.push('<label for="'+o+'">'+o.replaceAll("_"," ")+'<select id="'+o+'" value="'+t+'"/>'+a.join("")+"</select></label>"):r.push('<label for="'+o+'">'+o.replaceAll("_"," ")+a.join("")+"</label>")}});var a=Object.keys(sprite.GetProperty(e,"all"));a.forEach(o=>{var a=sprite.GetProperty(e,o),l=parseInt(a);void 0!=a&&null!=a&&isNaN(l)&&(!window.minimalOptions||-1!=window.visibleOptions.indexOf(e+"."+o))&&r.push('<label for="'+o+'">'+o.replaceAll("_"," ")+"<div>"+(["Pallet_Order"].includes(o)?"<button onclick=\"info('"+o+"')\">Info</button>":"")+"<input "+(a.startsWith("#")&&!("number"==typeof a&&a.toString().includes("."))?'data-jscolor="{}"':"")+'inputmode="none" placeholder="'+t(a)+'" id="'+o+'" value="'+t(a)+'"/></div></label>')});var l=document.createElement("div");l.id="mainform";var n=document.createElement("form");n.id="spriteform",n.setAttribute("data-propertyname",e),n.innerHTML=r.join(""),n.action="javascript:void(0)",n.addEventListener("change",function(r){updateSpriteOptions(e,r)}),l.appendChild(n),window.inputs={},inputs[e]={},a.forEach(r=>{inputs[e][r]=l.querySelector("#"+r)}),o.forEach(r=>{inputs[e][r]=l.querySelector("#"+r)}),document.querySelector("#widthController").appendChild(l),JSColor.install()}function closeUI(){document.querySelector("#mainform")&&document.querySelector("#mainform").remove()}function info(e){"Pallet_Order"===e?PopupManager.showMessage(`Pallet Order is a feature where you can customize your own pallets. You need to know the basics of JSON before you can edit this.

To assist with editing, you can use <a href="https://jsoneditoronline.org/" target="_blank">https://jsoneditoronline.org/</a> to format and compress your JSON.

This is an example of something that would go into the input box: <code>{"elements": [{"position": 6, "type": 1, "colors": ["#ff0000","#ffff00","#00ff00","#00aaff"]}]}</code>
The "elements" key contains an array of objects that represent mini color pallets. You may add as many elements to the array as you need.

The "position" value defines where the pallet is placed. Each shade on the background pallet represents a position.

<img src="tutorials/1-1.png" width="320px">

Available Types:
   0. Solid (1)
   1. Four Colors (4)
   2. Six Colors (6)
   3. One Upper Gradient and Four Colors (5)
   4. One Upper Gradient and Five Colors (6)
   5. Six Colors with Added Dark (7)
   6. Six Colors with Added Light (7)
   7. Eight Colors (8)
   8. Three Colors (3)
   9. Full Gradient (1)
   10. Full Sideways Gradient (1)
   11. Two Gradients (2)
   12. Two Sideways Gradients (2)

The "colors" array contains all the colors that the pallet will use. The colors will be used left to right, and they will wrap to the next row of elements logically. Extra colors will be ignored.

The number in parenthesis after the Type Name in the list represents how many colors are used.

And lastly, "alwaysOnTop" controls whether the pallets are drawn above everything else. It's helpful if you don't want to turn off all those options. You don't have to include the "alwaysOnTop" option in your JSON.

If the JSON is not valid, your custom pallets will not show.

Try this JSON which shows off all of the current Available Types:

<code>{"alwaysOnTop": true, "elements": [{"position": 1, "type": 0, "colors": ["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffddff","#ddffff"]},{"position": 2, "type": 1, "colors": ["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffddff","#ddffff"]},{"position": 3, "type": 2, "colors": ["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffddff","#ddffff"]},{"position": 4, "type": 3, "colors": ["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffddff","#ddffff"]},{"position": 5, "type": 4, "colors": ["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffddff","#ddffff"]},{"position": 6, "type": 5, "colors": ["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffddff","#ddffff"]},{"position": 7, "type": 6, "colors": ["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffddff","#ddffff"]},{"position": 8, "type": 7, "colors": ["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffddff","#ddffff"]},{"position": 9, "type": 8, "colors": ["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffddff","#ddffff"]},{"position": 10, "type": 9, "colors": ["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffddff","#ddffff"]},{"position": 11, "type": 10, "colors": ["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffddff","#ddffff"]},{"position": 12, "type": 11, "colors": ["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffddff","#ddffff"]}]}</code><style>
	code {
		display: block;
		padding: 20px;
		margin: 10px 0;
		background: #1f2023;
		border-radius: 10px;
		font-family: monospace !important;
		font-size: 16px;
	}
</style>`,"How to use Pallet Order"):console.log("info invalid key")}function AssignHitbox(e,r,o,t,a,l=!1){if("object"==typeof e){var n=e;e=n[0],r=n[1],o=n[2],t=n[3],a=n[4],l=n[5]||!1}var i=document.createElement("div");function p(e){e.stopPropagation();for(var r=document.querySelectorAll(".hitbox"),o=0;o<r.length;o++)r[o]!==i&&r[o].style.removeProperty("opacity");""==i.style.opacity?(i.style.opacity="1",makeUI(a)):(i.style.removeProperty("opacity"),closeUI())}function d(e){i.style.opacity="0",closeUI()}i.style.width=o+"px",i.style.height=t+"px",i.style.left=e+"px",i.style.top=r+"px",l&&(i.style.borderRadius=o+"px"),i.className="hitbox-"+a,i.addEventListener("click",p,{passive:!0}),i.addEventListener("touchstart",p,{passive:!0}),canvas.parentElement.addEventListener("click",d,{passive:!0}),canvas.parentElement.addEventListener("touchstart",d,{passive:!0}),i.classList.add("hitbox"),canvas.parentElement.appendChild(i)}function AssignHitboxes(e){document.querySelectorAll(".hitbox").forEach(e=>e.remove()),e.forEach(e=>{AssignHitbox(e)})}function copy(e,r=new Set){if("object"!=typeof e||null===e||r.has(e))return e;let o=Array.isArray(e)?[]:{};for(let t in r.add(e),e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=copy(e[t],r));return o}Object.defineProperty(Object.prototype,"copy",{value:function(){return copy(this)},writable:!0,configurable:!0}),Object.defineProperty(Array.prototype,"copy",{value:function(){return copy(this)},writable:!0,configurable:!0});const spriteValues=Object.freeze([[{name:"Laser_Beam",values:{Mode:[{key:"0",value:"Single"},{key:"1",value:"Double"},{key:"2",value:"Quadruple"}]}},{name:"Top_Right",values:{Type:[{key:"0",value:"Star"},{key:"1",value:"Pallet"}],Background_Type:[{key:"0",value:"Solid"},{key:"1",value:"Pallet"}],Gradient:[{key:"0",value:"Off"},{key:"1",value:"Single"},{key:"2",value:"Double"},{key:"3",value:"Stripes"}],Colored_Boxes:[{key:"0",value:"Off"},{key:"1",value:"On"}],Mini_Jump:[{key:"0",value:"Off"},{key:"1",value:"On"}],Rearranging_Cubes:[{key:"0",value:"Off"},{key:"1",value:"Cube"},{key:"2",value:"Sunset Glow"}],Spinning_Rhombus_Face:[{key:"0",value:"Off"},{key:"1",value:"On"}],Flip_Tile:[{key:"0",value:"None"},{key:"1",value:"Hourglass"},{key:"2",value:"Checkerboard"},{key:"3",value:"Flower"},{key:"4",value:"Diamond"},{key:"5",value:"Triple Square"},{key:"6",value:"U Shape"},{key:"7",value:"Boxed Star"},{key:"8",value:"Quad Circle"},{key:"9",value:"Fortune"},{key:"10",value:"Circle"}],Powerups:[{key:"0",value:"Off"},{key:"1",value:"On"}]}},{name:"Main_Stripe",values:{Type:[{key:"0",value:"None"},{key:"1",value:"Default"},{key:"2",value:"Split"},{key:"3",value:"Wide"},{key:"4",value:"Ignite"}]}},{name:"Alternate_Stripe",values:{Type:[{key:"0",value:"None"},{key:"1",value:"Default"},{key:"2",value:"Split"},{key:"3",value:"Wide"},{key:"4",value:"4 Colors"},{key:"5",value:"3 Gradients"},{key:"6",value:"1 Gradient"}],Always_On_Top:[{key:"0",value:"Off"},{key:"1",value:"On"}]}},{name:"Light_Color_Pallet",values:{Type:[{key:"0",value:"Default"},{key:"2",value:"Super Glow"},{key:"1",value:"Thin"}]}},{name:"Dark_Color_Pallet",values:{Type:[{key:"0",value:"Default"},{key:"2",value:"Super Glow"},{key:"1",value:"Thin"},{key:"3",value:"Extended"}]}},{name:"Gradient",values:{Type:[{key:"0",value:"Classic"},{key:"1",value:"Modern"},{key:"2",value:"Alternate Star"}]}},{name:"Riser_Top",values:{Type:[{key:"0",value:"Classic"},{key:"1",value:"Modern"},{key:"2",value:"Anniversary Pallet"}]}},],[{name:"Top_Left",values:{Type:[{key:"0",value:"General"},{key:"1",value:"Mover/MoverAuto"}],Inactive_Jump_Pad_Style:[{key:"0",value:"Default"},{key:"1",value:"Cut Edge"},{key:"2",value:"Net"},{key:"3",value:"Double Square"},{key:"4",value:"Chinese"},{key:"5",value:"Checkerboard"},{key:"6",value:"Honeycomb"},{key:"7",value:"Kat"}],Active_Jump_Pad_Style:[{key:"0",value:"Default"},{key:"1",value:"Cut Edge"},{key:"2",value:"Net"},{key:"3",value:"Double Square"},{key:"4",value:"Chinese"},{key:"5",value:"Checkerboard"},{key:"6",value:"Honeycomb"},{key:"7",value:"Kat"}]}},{name:"General",values:{Border_Style:[{key:"0",value:"Default"},{key:"1",value:"Cut Edge"},{key:"5",value:"Borderless Cut Edge"},{key:"4",value:"Spread"},{key:"2",value:"Thin"},{key:"3",value:"Glow"},{key:"6",value:"Super Glow"}],Decoration_Type:[{key:"0",value:"None"},{key:"1",value:"Heat"},{key:"2",value:"Border"},{key:"3",value:"Metal Panels"}]}},],[{name:"Top_Left",values:{Type:[{key:"0",value:"Fragile"},{key:"1",value:"FragileActive"}],Highscore_Style:[{key:"0",value:"Classic"},{key:"1",value:"Modern (Boxes)"},{key:"2",value:"Modern (Text Only)"}]}},{name:"Fragile",values:{Border_Style:[{key:"0",value:"Default"},{key:"1",value:"Wide"},{key:"6",value:"Thin"},{key:"2",value:"Extended Thin"},{key:"3",value:"Basic Stripes"},{key:"4",value:"Boxes"},{key:"5",value:"Jade Rabbit"}],Decoration_Type:[{key:"0",value:"None"},{key:"1",value:"Pixels"},{key:"2",value:"Snowflakes"}]}},]]),spriteTemplates=Object.freeze([{name:"Enemy1",type:0,features:[{name:"Laser_Center",properties:{Laser_Color:"#5affff",Laser_Outline:"#2CA3D9FF",Laser_Center:"#FFFFFF"}},{name:"Laser_Beam",values:{Mode:0},properties:{Laser_Color_1:"#5affffff",Laser_Center_1:"#ffffffff",Laser_Color_2:"#5AFFFFCA",Laser_Center_2:"#FFFFFFCA",Laser_Color_3:"#F86476ff",Laser_Center_3:"#ffffffff",Laser_Color_4:"#F86476D9",Laser_Center_4:"#FFFFFFD9"}},{name:"Top_Right",values:{Type:0,Background_Type:1,Gradient:1,Colored_Boxes:0,Mini_Jump:1,Rearranging_Cubes:1,Spinning_Rhombus_Face:1,Flip_Tile:1,Powerups:1},properties:{Background:"#989089",Pallet_Order:'{"elements": []}',Star_Inactive_Color:"#3abcba",Star_Active_Color:"#30efee",Star_Inactive_Shadow_Color:"#000000",Star_Active_Shadow_Color:"#000000",Pallet_Gradient:"#FFFFFFFF",Pallet_Gradient_2:"#68D1FFFF",Pallet_Gradient_Stripes:"#F90000D5",Colored_Box_Background:"#000000",Colored_Box_1_Color:"#97ff08",Colored_Box_2_Color:"#12eaff",Colored_Box_3_Color:"#1393ff",Colored_Box_4_Color:"#ff5bbe",Colored_Box_5_Color:"#8420ff",Colored_Box_6_Color:"#ffa600",Colored_Box_7_Color:"#fff512",Colored_Box_8_Color:"#ff0f10",Inactive_Mini_Jump_Top:"#fcc993",Inactive_Mini_Jump_Side:"#f1fffa",Active_Mini_Jump_Top:"#f59e62",Active_Mini_Jump_Side:"#b0564f",Rearranging_Cube_Top_Background_Color:"#ffd061",Rearranging_Cube_Top_Pattern_Color:"#ffebb3",Rearranging_Cube_Bottom_Background_Color:"#ffa43b",Rearranging_Cube_Bottom_Pattern_Color:"#ffdf70",Rearranging_Cube_Border_Color:"#78493d",Sunset_Cubes_Pattern_Color:"#f7a51d",Spinning_Rhombus_Face_Background:"#8cb9b4",Spinning_Rhombus_Face_Overlay:"#a26555",Flip_Tile_Side_Color:"#81685cff",Inactive_Flip_Tile_Background:"#727f7d",Inactive_Flip_Tile_Color_1:"#8fb5b1ff",Inactive_Flip_Tile_Color_2:"#8fb5b17d",Active_Flip_Tile_Background:"#ecc75c",Active_Flip_Tile_Color_1:"#fffb96ff",Active_Flip_Tile_Color_2:"#fffb967d",Powerup_Dark_Color:"#434a5b",Powerup_Icon_Color:"#fefefe",Powerup_Custom_Gradient:"#ffffff"}},{name:"Main_Stripe",values:{Type:1},properties:{Background:"#afa69d",Color:"#30efee",Shadow:"#000000ff"}},{name:"Alternate_Stripe",values:{Type:0,Always_On_Top:0},properties:{Background:"#afa69d",Color:"#30efee",Shadow:"#000000ff",Color_1:"#FF0000FF",Color_2:"#25FF00FF",Color_3:"#008BFFFF",Color_4:"#FFFFFFFF"}},{name:"Light_Color_Pallet",values:{Type:0,Super_Glow_Amount:1.75},properties:{Color_1_Border:"#1b8887",Color_1_Background:"#24b4b3",Color_2_Border:"#1d9392",Color_2_Background:"#27c3c2",Color_2_Addition:"#FFFFFF40",Color_3_Border:"#209e9d",Color_3_Background:"#2ad2d1",Color_4_Border:"#21a4a3",Color_4_Background:"#2cdad9",Color_5_Border:"#07a9a7",Color_5_Background:"#09e0de",Color_6_Border:"#07a9a7",Color_6_Background:"#09e0de",Hexagon_Circle_Center:"#7f7f7fff"}},{name:"Dark_Color_Pallet",values:{Type:0,Super_Glow_Amount:1.75},properties:{Color_1_Border:"#47423d",Color_1_Background:"#5e5751",Color_1_Addition:"#FFFFFF10",Color_2_Border:"#47423d",Color_2_Background:"#5e5751",Color_3_Border:"#66605a",Color_3_Background:"#877f77",Color_4_Border:"#544f4b",Color_4_Background:"#706963",Color_5_Border:"#847d76",Color_5_Background:"#afa69d",Color_6_Border:"#625d58",Color_6_Background:"#817a74",Color_6_Addition:"#FFFFFF10",Color_7_Border:"#a5643c",Color_7_Background:"#c46934",Color_8_Border:"#76452a",Color_8_Background:"#914a27",Color_9_Border:"#683e24",Color_9_Background:"#763d1c",Color_10_Border:"#297829",Color_10_Background:"#09a13b",Color_11_Border:"#1f5b20",Color_11_Background:"#06792e",Color_12_Border:"#1c4b19",Color_12_Background:"#086021"}},{name:"Gradient",values:{Type:0},properties:{Darken_Color:"#3f3936",Lighten_Color:"#7f7872",Border_Color:"#4d4642",Strip_Lighten_Color:"#30efee",Strip_Darken_Color:"#1de8e6",Dynamic_Cube_Floater_Color:"#30efee"}},{name:"Riser_Top",values:{Type:0},properties:{Background:"#afa69d",Left_Outer_Border:"#857d76",Left_Inner_Border:"#857d76",Left_Inner_Color:"#24b4b3",Right_Outer_Border:"#857d76",Right_Inner_Border:"#857d76",Right_Inner_Color:"#30efee"}},]},{name:"General1",type:1,features:[{name:"Top_Left",values:{Type:0,Active_Jump_Pad_Style:0,Inactive_Jump_Pad_Style:0},properties:{Active_Jump_Pad_Color:"#feab2c",Active_Jump_Pad_Border:"#ffff00",Active_Jump_Pad_Side:"#ffff00",Active_Jump_Pad_Decoration_1:"#FFFF0090",Active_Jump_Pad_Decoration_2:"#ffffff00",Active_Jump_Pad_Decoration_3:"#ffffff50",Inactive_Jump_Pad_Color:"#fd873e",Inactive_Jump_Pad_Border:"#eb7a38",Inactive_Jump_Pad_Side:"#d67040",Inactive_Jump_Pad_Decoration_1:"#eb7a3890",Inactive_Jump_Pad_Decoration_2:"#ffffff00",Inactive_Jump_Pad_Decoration_3:"#ffffff00",Active_Mover_Arrow_Color:"#feab2c",Active_Mover_Arrow_Inner_Color:"#ffffff00",Active_Mover_Arrow_Border:"#ffff00",Active_Mover_Arrow_Side:"#ffff00",Inactive_Mover_Arrow_Color:"#fd873e",Inactive_Mover_Arrow_Inner_Color:"#ffffff00",Inactive_Mover_Arrow_Border:"#eb7a38",Inactive_Mover_Arrow_Side:"#eb7a38",Mover_Border_Outline:"#db7032"}},{name:"Pallet",properties:{Shadow:"#e69e4cff",Square_1:"#e69f43ff",Square_1_Overlay:"#dd9647AC",Square_2:"#eaa442ff",Square_2_Overlay:"#dd9647AC",Square_3:"#c27f38ff",Square_4:"#da9540ff",Square_4_Overlay:"#d38e42AC",Square_5:"#cb873dff"}},{name:"General",values:{Border_Style:0,Decoration_Type:0},properties:{Background:"#fdb643",Border:"#e69e4c",Lower_Border:"#E69E4C90",Decoration_Color_1:"#FF9B3C52",Decoration_Color_2:"#B76F2244",Decoration_Color_3:"#B76F2252"}}]},{name:"Fragile1",type:2,features:[{name:"Top_Left",values:{Type:0,Highscore_Style:2},properties:{Low_Quality_Gem_Color:"#ff6044",Low_Quality_Gem_Outline:"#FFFFFF22",Low_Quality_Gem_Highlight:"#FF7751FF",Midground_Gradient_Top:"#12d9e0",Midground_Gradient_Bottom:"#20c7d1",Top_Checker_1:"#fdb6447f",Top_Checker_2:"#fd873e7f",Bottom_Checker_1:"#fdb6447f",Bottom_Checker_2:"#fd873e7f",Top_Highscore_Color:"#FFFFFFC7",Top_Highscore_Outline:"#FDB644B9",Bottom_Highscore_Color:"#FFE500BD"}},{name:"Pallet",properties:{Shadow:"#9fe0ffff",Square_1:"#6697a9ff",Square_1_Overlay:"#9fe0ff00",Square_2:"#80c7d2cf",Square_2_Overlay:"#9fe0ffff",Square_3:"#90bcc5ff",Square_4:"#8cd1e0df",Square_4_Overlay:"#9fe0ffff",Square_5:"#9fe0ffff"}},{name:"Fragile",values:{Border_Style:0,Decoration_Type:0},properties:{Background:"#72bcbfbf",Stripes:"#ade5f0ff",Border:"#9fe0ffff"}}]}]);var cachedSpriteData=[spriteTemplates[0].copy(),spriteTemplates[1].copy(),spriteTemplates[2].copy(),],spritename=document.querySelector("#spritename"),minimaloptions=document.querySelector("#minimaloptions"),spriteType=document.querySelector("#spriteType");function updateNameType(){sprite.Name=spritename.value,localStorage.setItem("showMinimalOptions",minimaloptions.checked?"true":"false"),window.minimalOptions=minimaloptions.checked}function sprDownload(e){switch(e){case 0:var r=document.createElement("a");r.download=sprite.Name+".png",r.href=canvas.toDataURL(),r.click();break;case 1:var r=document.createElement("a");r.download=sprite.Name+".rs",r.href="data:application/octet-stream;charset=utf-8,"+encodeURIComponent(toBinary(sprite.string)),r.click()}}function toBinary(e){let r=new Uint16Array(e.length);for(let o=0;o<r.length;o++)r[o]=e.charCodeAt(o);return btoa(String.fromCharCode(...new Uint8Array(r.buffer)))}function fromBinary(e){let r=atob(e),o=new Uint8Array(r.length);for(let t=0;t<o.length;t++)o[t]=r.charCodeAt(t);return String.fromCharCode(...new Uint16Array(o.buffer))}window.onload=()=>{document.body.scrollTo(0,0)},localStorage.getItem("showMinimalOptions")||localStorage.setItem("showMinimalOptions","true"),window.minimalOptions="true"==localStorage.getItem("showMinimalOptions"),minimaloptions.checked=window.minimalOptions;const fileInput=document.getElementById("fileuploadinput");fileInput.addEventListener("change",e=>{if(0!=fileInput.files.length){var r=new FileReader;r.onload=function(){var e="";console.log("File contents: ",r.result);try{e=LevelEncryptor.decrypt(r.result)}catch{}if((""==e||null==e||void 0==e)&&(e=LZString.decompress(r.result)),""==e||null==e||void 0==e)try{e=fromBinary(decodeURIComponent(r.result))}catch{alert("Malformed Project File.")}let o=JSON.parse(e);console.log(o),fileInput.value=null,context.clearRect(0,0,512,512),sprite.SetData(o),MainMenu.Exit(),sprite.Save()},r.readAsText(fileInput.files[0])}});const zipInput=document.getElementById("filezipinput");function handleZipFileSelect(e){if(0==zipInput.files.length)return;let r=e.target.files[0],o=new FileReader;o.onload=function(e){let r=e.target.result,o=new Blob([r],{type:"application/octet-stream"}),t=URL.createObjectURL(o);trackProgress(t,1)},o.readAsArrayBuffer(r)}zipInput.addEventListener("change",handleZipFileSelect,!1);var MainMenu={object:document.querySelector("#mainmenu"),object1:document.querySelector("#container"),LoadTemplate(e){sprite.SetData(spriteTemplates[e].copy()),sprite.FirstChangeCall=Counter.add,spritename.value=sprite.Name,MainMenu.Exit()},LoadPrevious(){var e=localStorage.getItem("lastSpritesheet");void 0!=e&&null!=e&&(sprite.SetData(JSON.parse(e)),spritename.value=sprite.Name,MainMenu.Exit())},Exit(){View.Close("MainMenu"),View.Open("MainEditor"),renderSprite(),spritename.value=sprite.Name,MainMenu.object.style.display="none",MainMenu.object1.style.display="block",document.body.scrollTo(0,0),clearInterval(window.liveUpdateAmount)},Enter(){function e(){Counter.get().then(e=>{spriteAmountMade.innerHTML=e})}View.Open("MainMenu"),View.Close("MainEditor"),closeUI(),MainMenu.object.style.display="block",MainMenu.object1.style.display="none",document.body.scrollTo(0,0),e(),window.liveUpdateAmount=setInterval(()=>{e()},1500),clearTimeout(window.liveUpdateTime)}};window.onbeforeunload=function(){return"Are you sure you want to reload the editor? Your progress on your spritesheet will only be saved if you have modified it."};const Counter={url:"",async add(){},async get(){}};function createNewSpritesheet(e){MainMenu.LoadTemplate(e)}window.closeTab=()=>{window.onbeforeunload=void 0,window.open("","_self").close()},window.hidePage=()=>{document.querySelector("#loader").style.display="none",document.querySelector("#page").style.display="none"},window.showLocalMachineTutorial=()=>{window.hidePage,PopupManager.showMessage('<ol><li>Go to <a href="https://nodejs.org/en/download" target="_blank">this link</a> and download NodeJS for your machine.</li><li>Install NodeJS by running the installer you have downloaded.</li><li>Go through the NodeJS installer wizard until it is finished.</li><li>Go to your computer console. For Windows, search "cmd" in your Start Menu (Windows Button).</li><li>Enter this command into your console and wait for it to finish:<span class="code">npm install http-server</span>You will know it is finished when a new ">" appears.</li><li>If you are on Windows, you can download <a href="localhost.bat" download target="_blank">this batch file</a> and place it in the same directory of your copy of the repository\'s index.html file. Run the batch file by double clicking on it. If you are not on Windows, you will navigate to the directory of your copy of the repository\'s index.html file and run:<span class="code">http-server -p 9000 -c -1</span></li><li>Open this link in your browser:<span class="code">localhost:9000</span></li><li>You will now be able to freely use SpriteMaker on your local machine, but make sure to stay alert for SpriteMaker updates!</li></ol><style>.code{display: block;margin: 10px 0;font-family: monospace !important;background: #424447;width: max-content;padding: 10px;border-radius: 10px;font-size: var(--baseFontSize);}</style>',"How to run SpriteMaker on a Local Machine?",["Leave>closeTab()~default"],!1)};var threeJSrenderCanvas=document.querySelector("#obstaclePreviewCanvas"),threeJSrenderMenu=document.querySelector("#obstaclePreviewMenu"),obstaclePreviewTypeSelect=document.querySelector("#obstaclePreviewTypeSelect");function param(e,r){var o;return new URLSearchParams(window.location.search).get(e)||r}const ObjectType={Gus:-1,Ground:0,JumpPad:1,Mover:2,FlipTile:3,Riser:4,Crusher:5,Tree:6,TreeLv8:7,TreeTh14:8,Shinto:9,ShintoLv8:10,ShintoTh14:11,PalmTree:12,Star:13,Roller:14,LargeHammer:15,SmallHammer:16,Slasher:17,Pyramid:18,Spotlight:19,Laser:20,Pillar:21,PillarLaser:22,Tetrominoes:23};var Texture={Enemy:"Enemy1",General:"General1",Fragile:"Fragile1",Mover:"Mover1",Gus:"Gus"};const scene=new THREE.Scene;var havePromptedRenderObstaclePreviewMobileCheckOnce=!1;function renderObstaclePreview(e,r=!1){havePromptedRenderObstaclePreviewMobileCheckOnce||(havePromptedRenderObstaclePreviewMobileCheckOnce=!0,r||PopupManager.showMessage("<h3>Mouse</h3>Left Mouse Button - Orbit<br>Right Mouse Button - Pan<br>Middle Mouse Button (Scroll) - Zoom<br>Middle Mouse Button (Drag) - Fast Zoom<h3>Touch</h3>One Finger - Orbit<br>Two Fingers (Drag) - Zoom<br>Two Fingers (Pinch) - Zoom","Controls")),Texture[["Enemy","General","Fragile"][sprite.Type]]=canvas.toDataURL(),Texture.Mover=Texture.General,2==sprite.Type&&(Texture.General=Texture.Fragile),closeObstaclePreview(),scene.isPaused=!1,threeJSrenderMenu.style.display="block",View.Open("ObstaclePreview");var o=0,t=0,a=0;let l=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.001,1e3);l.position.set(-2.5+o,2+t,-2.5+a);let n=new THREE.WebGLRenderer({canvas:threeJSrenderCanvas,alpha:!0});n.setSize(window.innerWidth,window.innerHeight),n.setClearColor(0,0),n.setClearAlpha(0),n.alpha=!0;let i=new THREE.OBJLoader;function p(e,r,o=[0,0,0],t=[0,0,0],a=1){i.load("models/"+e+".obj",function(e){e.position.set(o[0],o[1],o[2]),!function e(r,o){let t=THREE.MathUtils.degToRad(o[0]),a=THREE.MathUtils.degToRad(o[1]),l=THREE.MathUtils.degToRad(o[2]);r.rotation.set(t,a,l)}(e,t),e.scale.set(a,a,a);let l=new THREE.MeshStandardMaterial({side:THREE.DoubleSide,transparent:!0}),n=new THREE.TextureLoader;n.load(r.startsWith("data:")?r:"textures/"+r+".png",function(e){e.alpha=!0,l.map=e,l.needsUpdate=!0}),e.traverse(function(e){e instanceof THREE.Mesh&&(e.material=l)}),scene.add(e)})}let d=new THREE.AmbientLight("#dddddd");scene.add(d);let c=new THREE.DirectionalLight(16777215,.425);switch(c.position.set(-15,25,-35),scene.add(c),ObjectType[e]){case ObjectType.Gus:p("Gus",Texture.Gus,[0,0,0],[0,180,0]);break;case ObjectType.Ground:p("tileDGeo",Texture.General,[0,0,0],[90,0,0]),p("tileIGeo",Texture.General,[2,0,0],[90,0,0]),p("tileL1Geo",Texture.General,[4,0,0],[90,0,0]),p("tileLGeo",Texture.General,[6,0,0],[90,0,0]),p("tileODGeo",Texture.General,[0,0,2],[90,0,0]),p("tileOGeo",Texture.General,[2,0,2],[90,0,0]),p("tileT1aGeo",Texture.General,[4,0,2],[90,0,0]),p("tileT1bGeo",Texture.General,[6,0,2],[90,0,0]),p("tileT2Geo",Texture.General,[0,0,4],[90,0,0]),p("tileTGeo",Texture.General,[2,0,4],[90,0,0]),p("tileX1Geo",Texture.General,[4,0,4],[90,0,0]),p("tileX2aGeo",Texture.General,[6,0,4],[90,0,0]),p("tileX2bGeo",Texture.General,[0,0,6],[90,0,0]),p("tileX3Geo",Texture.General,[2,0,6],[90,0,0]),p("tileX4Geo",Texture.General,[4,0,6],[90,0,0]),p("tileXGeo",Texture.General,[6,0,6],[90,0,0]);break;case ObjectType.JumpPad:o=-1,p("tileJumpGeo",Texture.General,[0,0,0],[90,0,0]),p("tileJumpGeoActivated",Texture.General,[2,0,0],[90,0,0]);break;case ObjectType.Mover:p("moverArrowUnlitDownGeo",Texture.Mover,[0,0,0],[90,0,0]),p("tileGeo",Texture.Mover,[0,0,0]),p("moverArrowLitDownGeo",Texture.Mover,[2,0,0],[90,0,0]),p("tileGeo",Texture.Mover,[2,0,0]),p("tileDGeo",Texture.Mover,[0,0,2],[90,0,0]),p("tileIGeo",Texture.Mover,[2,0,2],[90,0,0]),p("tileL1Geo",Texture.Mover,[4,0,2],[90,0,0]),p("tileLGeo",Texture.Mover,[6,0,2],[90,0,0]),p("tileODGeo",Texture.Mover,[0,0,4],[90,0,0]),p("tileOGeo",Texture.Mover,[2,0,4],[90,0,0]),p("tileT1aGeo",Texture.Mover,[4,0,4],[90,0,0]),p("tileT1bGeo",Texture.Mover,[6,0,4],[90,0,0]),p("tileT2Geo",Texture.Mover,[0,0,6],[90,0,0]),p("tileTGeo",Texture.Mover,[2,0,6],[90,0,0]),p("tileX1Geo",Texture.Mover,[4,0,6],[90,0,0]),p("tileX2aGeo",Texture.Mover,[6,0,6],[90,0,0]),p("tileX2bGeo",Texture.Mover,[0,0,8],[90,0,0]),p("tileX3Geo",Texture.Mover,[2,0,8],[90,0,0]),p("tileX4Geo",Texture.Mover,[4,0,8],[90,0,0]),p("tileXGeo",Texture.Mover,[6,0,8],[90,0,0]);break;case ObjectType.FlipTile:o=-1,p("level_20_fanzhuanlumian01",Texture.Enemy,[0,0,0],[0,0,0]),p("level_20_fanzhuanlumian01",Texture.Enemy,[2,0,0],[0,0,180]);break;case ObjectType.Riser:p("enemyRisenActiveParts_Geo",Texture.Enemy,[0,.625,0]),p("enemyRiserBase_Geo",Texture.General),p("tileGeo",Texture.General);break;case ObjectType.Crusher:p("enemyCrusher_Geo",Texture.Enemy),p("enemyCrusherShadow_Geo",Texture.General,[0,0,0],[90,0,0]),p("tileGeo",Texture.General);break;case ObjectType.Tree:case ObjectType.TreeLv8:case ObjectType.TreeTh14:switch(o=1,t=-.25,a=1,ObjectType[e]){case ObjectType.Tree:p("enemyTree",Texture.Enemy,[-2,0,0]);break;case ObjectType.TreeLv8:p("enemyTreeLv8",Texture.Enemy,[-2,0,0]);break;case ObjectType.TreeTh14:p("enemyTreeTh14",Texture.Enemy,[-2,0,0])}p("enemyTreeBase",Texture.General,[-2,0,0]),p("enemyTreeBase",Texture.General,[0,0,0]),p("enemyTreeBase",Texture.General,[2,0,0]),p("tileGeo",Texture.General,[-2,0,0]),p("tileGeo",Texture.General,[0,0,0]),p("tileGeo",Texture.General,[2,0,0]);break;case ObjectType.Shinto:case ObjectType.ShintoLv8:case ObjectType.ShintoTh14:switch(o=1,t=-.25,a=1,ObjectType[e]){case ObjectType.Shinto:p("enemyShinto",Texture.Enemy,[0,0,0]);break;case ObjectType.ShintoLv8:p("enemyShintoLv8",Texture.Enemy,[0,0,0]);break;case ObjectType.ShintoTh14:p("enemyShintoTh14",Texture.Enemy,[0,0,0])}p("enemyShintoBase",Texture.General,[0,0,0]),p("tileGeo",Texture.General,[-1,0,0]),p("tileGeo",Texture.General,[0,0,0]),p("tileGeo",Texture.General,[1,0,0]);break;case ObjectType.PalmTree:o=-1.25,p("enemyTree_palm",Texture.Enemy,[0,0,0]),p("enemyTree_palm_base",Texture.General,[0,0,0]),p("tileGeo",Texture.General,[0,0,0]),p("enemyTreeAlt_palm",Texture.Enemy,[2.5,0,0]),p("enemyTree_palm_base",Texture.General,[2.5,0,0]),p("tileGeo",Texture.General,[2.5,0,0]);break;case ObjectType.Star:o=-1,t=-.5,p("enemyStarInactive_Geo",Texture.Enemy,[0,0,0]),p("tileGeo",Texture.General,[2,0,0]),p("enemyStarActive_Geo",Texture.Enemy,[2,2,0]),p("enemyStarActiveShadowGeo",Texture.General,[2,0,0],[90,0,0]),p("tileGeo",Texture.General,[0,0,0]),p("enemyStarAltInactive_Geo",Texture.Enemy,[4,0,0]),p("tileGeo",Texture.General,[4,0,0]),p("enemyStarAltActive_Geo",Texture.Enemy,[6,2,0]),p("enemyStarActiveShadowGeo",Texture.General,[6,0,0],[90,0,0]),p("tileGeo",Texture.General,[6,0,0]);break;case ObjectType.Roller:o=-1,p("enemyRollerGeo",Texture.Enemy,[0,.5,0]),p("enemRollerShadow_Geo",Texture.General,[0,0,0],[90,0,0]),p("tileGeo",Texture.General,[0,0,0]),p("enemyRollerGeoAlt",Texture.Enemy,[2,.5,0]),p("enemRollerShadow_Geo",Texture.General,[2,0,0],[90,0,0]),p("tileGeo",Texture.General,[2,0,0]);break;case ObjectType.LargeHammer:o=-1,p("enemyPounder_geoHammer",Texture.Enemy),p("enemyPounder_geoAxle",Texture.Enemy),p("enemyPounder_Geo",Texture.General),p("tileGeo",Texture.General);break;case ObjectType.SmallHammer:p("enemySlasherMini_geo",Texture.Enemy),p("enemySlasherBase_Geo",Texture.General),p("tileGeo",Texture.General);break;case ObjectType.Slasher:p("enemySlasher",Texture.Enemy),p("enemySlasherBase_Geo",Texture.General),p("tileGeo",Texture.General);break;case ObjectType.Pyramid:o=-1,p("enemyPyramid",Texture.Enemy,[0,0,0]),p("enemyPyramidShadow",Texture.General,[0,0,0]),p("enemyPyramidShadow",Texture.General,[2,0,0]),p("tileGeo",Texture.General,[0,0,0]),p("tileGeo",Texture.General,[2,0,0]);break;case ObjectType.Spotlight:p("enemySpotlight_laserBeam",Texture.Enemy),p("enemySpotlight_projector",Texture.Enemy),p("enemyPounder_geoAxle",Texture.Enemy),p("enemyPounder_Geo",Texture.General),p("tileGeo",Texture.General);break;case ObjectType.Laser:o=-1,p("enemyLaser_geo",Texture.Enemy,[0,0,0]),p("enemyLaser_eyelids_geo",Texture.Enemy,[0,0,0]),p("tileGeo",Texture.General,[0,0,0]),p("enemyLaser_geo",Texture.Enemy,[2,0,0]),p("enemyLaser_beam_geo",Texture.Enemy,[2,0,0]),p("tileGeo",Texture.General,[2,0,0]);break;case ObjectType.Pillar:o=1,a=1,p("enemyPillar",Texture.General,[0,2,0]),p("enemySwitcherLv8",Texture.General,[2,2,0]),p("enemySwitcherLv9",Texture.General,[4,2,0]),p("enemySwitcherLv10",Texture.General,[6,2,0]);break;case ObjectType.PillarLaser:o=-1,p("enemyPillarLaser_parts1",Texture.Enemy,[0,-1.25,0]),p("enemyPillarLaser_parts2",Texture.General,[0,-1.25,0]),p("enemyPillarLaserAlt_parts1",Texture.Enemy,[3,-1.25,0]);break;case ObjectType.Tetrominoes:p("enemyTetrominoes",Texture.Enemy,[0,0,0])}let m=new THREE.OrbitControls(l,n.domElement);m.enableDamping=!0,m.dampingFactor=.075,m.zoomSpeed=2.75,m.target=new THREE.Vector3(-1*o,-1*t+.75,-1*a),!function e(){scene.isPaused||(requestAnimationFrame(e),m.update(),n.render(scene,l))}()}function closeObstaclePreview(){View.Close("ObstaclePreview"),scene.isPaused=!0,scene.remove.apply(scene,scene.children),threeJSrenderMenu.style.display="none"}function isMobile(){var e=navigator.userAgent.indexOf("Windows Phone")>=0,r=navigator.userAgent.indexOf("Android")>0&&!e,o=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,t=o&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=o&&/OS [6-7]_\d/.test(navigator.userAgent);return e||r||o||t||a}obstaclePreviewTypeSelect.addEventListener("change",()=>{renderObstaclePreview(obstaclePreviewTypeSelect.value)}),window.addEventListener("message",function(e){try{var r=JSON.parse(e.data);Object.keys(r).forEach(e=>{Texture[e]=r[e]})}catch{}}),window.addEventListener("keyup",e=>{switch(e.key.toLowerCase()){case"escape":switch(View.TopmostView.toLowerCase()){case"mainmenu":PopupManager.showMessage('<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/dQw4w9WgXcQ?autoplay=1&mute=1" title="YouTube video player" frameborder="0" allow="autoplay; accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture;" allowfullscreen></iframe>',"undefined");break;case"obstaclepreview":closeObstaclePreview()}break;case"g":"obstaclepreview"===View.TopmostView.toLowerCase()&&renderObstaclePreview("Gus")}}),MainMenu.Enter();